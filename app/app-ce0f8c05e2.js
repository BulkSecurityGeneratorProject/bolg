!function(){"use strict";function t(t){t.initialize(),AV.init({appId:"BcjvMsRSFqPvuxCRbUmhwOtU-gzGzoHsz",appKey:"rQV77q18DvrAp5oPClWJESP7"})}angular.module("bolgApp",["ngStorage","ngResource","ngCookies","ngAria","ngCacheBuster","ngFileUpload","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","infinite-scroll","angular-loading-bar"]).run(t),t.$inject=["stateHandler"]}(),function(){"use strict";function t(t){function e(){$.get("./json/map/china.json",function(t){echarts.registerMap("china",t),s.setOption({backgroundColor:"#404a59",title:{text:"中国",left:"center",textStyle:{color:"#fff"}},series:[{name:"中国",type:"map",mapType:"china",selectedMode:"single",label:{emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#389BB7",areaColor:"#fff"},emphasis:{areaColor:"#389BB7",borderWidth:0}}}]})})}function n(){var t=r[o];s.showLoading(),$.get("./json/map/"+t+".json",function(e){s.hideLoading(),echarts.registerMap(t,e),s.setOption({backgroundColor:"#404a59",title:{text:i[o],left:"center",textStyle:{color:"#fff"}},series:[{type:"map",mapType:t,selectedMode:"single",label:{emphasis:{textStyle:{color:"#fff"}}},itemStyle:{normal:{borderColor:"#389BB7",areaColor:"#fff"},emphasis:{areaColor:"#389BB7",borderWidth:0}}}]})})}var r=["shanghai","hebei","shanxi","neimenggu","liaoning","jilin","heilongjiang","jiangsu","zhejiang","anhui","fujian","jiangxi","shandong","henan","hubei","hunan","guangdong","guangxi","hainan","sichuan","guizhou","yunnan","xizang","shanxi1","gansu","qinghai","ningxia","xinjiang","beijing","tianjin","chongqing","xianggang","aomen"],i=["上海","河北","山西","内蒙古","辽宁","吉林","黑龙江","江苏","浙江","安徽","福建","江西","山东","河南","湖北","湖南","广东","广西","海南","四川","贵州","云南","西藏","陕西","甘肃","青海","宁夏","新疆","北京","天津","重庆","香港","澳门"],s=echarts.init(document.getElementById("map")),o=-1,a=function(t){if(t.error)return"未知";var e=t.results[0].weather_data[0].date;return e.substring(e.indexOf("：")+1,e.indexOf(")"))},u=function(t){var e="http://api.map.baidu.com/telematics/v3/weather?location="+t+"&output=json&ak=VNzVAdKLqIs3RQ1br2UB10Wf&callback=?";$.getJSON(e,function(e){$("#info").html(t+"："+a(e))})};e(),s.on("mapselectchanged",function(t){-1==o?(o=i.indexOf(t.name),-1==o?u(t.name):n()):u(t.name)});var c=0;$("#map").on("click",function(){c++,setTimeout(function(){c=0},500),c>1&&(-1!=o&&(o=-1,e()),c=0)})}angular.module("bolgApp").controller("WeatherController",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t){t.state("tools",{parent:"app",url:"/tools"}),t.state("baiduyun",{parent:"tools",url:"/baiduyun",data:{authorities:[],pageTitle:"百度云"},views:{"content@":{templateUrl:"app/tools/baiduyun/baiduyun.html",controller:"BaiduyunController",controllerAs:"vm"}}}),t.state("weather",{parent:"tools",url:"/weather",data:{authorities:[],pageTitle:"天气"},views:{"content@":{templateUrl:"app/tools/weather/weather.html",controller:"WeatherController",controllerAs:"vm"}}})}angular.module("bolgApp").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){var e=this;e.info="123",e.getBaiduyun=function(){document.getElementById("info").innerHTML="</br>loading...",AV.Cloud.run("baiduyuns",{},{success:function(t){t.sort(function(t,e){return new Date(e.time)-new Date(t.time)});for(var e={},n=t.length;n--;)e[t[n].url]?t.splice(n,1):e[t[n].url]=1;for(var r="",n=0;n<t.length;n++)r+='<br/><a href="'+t[n].url+'" target="_blank">'+t[n].time+"</a>";document.getElementById("info").innerHTML=r}})}}angular.module("bolgApp").controller("BaiduyunController",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t){t.state("demo1",{parent:"account",url:"/demo",data:{authorities:[],pageTitle:"demo"},views:{"content@":{templateUrl:"app/show/demo1.html",controller:"DemoController",controllerAs:"vm"}}})}angular.module("bolgApp").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){function e(){d=window.innerWidth,p=window.innerHeight,b={x:d/2,y:p/2},_=document.getElementById("large-header"),_.style.height=p+"px",m=document.getElementById("demo-canvas"),m.width=d,m.height=p,v=m.getContext("2d"),g=[];for(var t=0;d>t;t+=d/20)for(var e=0;p>e;e+=p/20){var n=t+Math.random()*d/20,r=e+Math.random()*p/20,i={x:n,originX:n,y:r,originY:r};g.push(i)}for(var s=0;s<g.length;s++){for(var o=[],a=g[s],u=0;u<g.length;u++){var c=g[u];if(a!=c){for(var f=!1,y=0;5>y;y++)f||void 0==o[y]&&(o[y]=c,f=!0);for(var y=0;5>y;y++)f||h(a,c)<h(a,o[y])&&(o[y]=c,f=!0)}}a.closest=o}for(var s in g){var w=new l(g[s],2+2*Math.random(),"rgba(255,255,255,0.3)");g[s].circle=w}}function n(){"ontouchstart"in window||window.addEventListener("mousemove",r),window.addEventListener("scroll",i),window.addEventListener("resize",s)}function r(t){var e=0,n=0;t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop),b.x=e,b.y=n}function i(){y=!(document.body.scrollTop>p)}function s(){d=window.innerWidth,p=window.innerHeight,_.style.height=p+"px",m.width=d,m.height=p}function o(){a();for(var t in g)u(g[t])}function a(){if(y){v.clearRect(0,0,d,p);for(var t in g)Math.abs(h(b,g[t]))<4e3?(g[t].active=.3,g[t].circle.active=.6):Math.abs(h(b,g[t]))<2e4?(g[t].active=.1,g[t].circle.active=.3):Math.abs(h(b,g[t]))<4e4?(g[t].active=.02,g[t].circle.active=.1):(g[t].active=0,g[t].circle.active=0),c(g[t]),g[t].circle.draw()}requestAnimationFrame(a)}function u(t){TweenLite.to(t,1+1*Math.random(),{x:t.originX-50+100*Math.random(),y:t.originY-50+100*Math.random(),ease:Circ.easeInOut,onComplete:function(){u(t)}})}function c(t){if(t.active)for(var e in t.closest)v.beginPath(),v.moveTo(t.x,t.y),v.lineTo(t.closest[e].x,t.closest[e].y),v.strokeStyle="rgba(156,217,249,"+t.active+")",v.stroke()}function l(t,e,n){var r=this;!function(){r.pos=t||null,r.radius=e||null,r.color=n||null}(),this.draw=function(){r.active&&(v.beginPath(),v.arc(r.pos.x,r.pos.y,r.radius,0,2*Math.PI,!1),v.fillStyle="rgba(156,217,249,"+r.active+")",v.fill())}}function h(t,e){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)}var f=this;f.isDay=(new Date).getHours()>=6&&(new Date).getHours()<18,f.isPhone=navigator.userAgent.match(/(iPhone|iPod|Android|ios|iPad|SymbianOS)/i);var d,p,_,m,v,g,b,y=!0;t(function(){e(),o(),n()},10)}angular.module("bolgApp").controller("DemoController",t),t.$inject=["$timeout"]}(),function(){"use strict";function t(t){var e=t("api/users/:login",{},{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(t){return t=angular.fromJson(t)}},save:{method:"POST"},update:{method:"PUT"},"delete":{method:"DELETE"}});return e}angular.module("bolgApp").factory("User",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t,e){function n(){return angular.isUndefined(r)&&(r=e.get("api/profile-info").then(function(t){if(t.data.activeProfiles){var e={};return e.activeProfiles=t.data.activeProfiles,e.ribbonEnv=t.data.ribbonEnv,e.inProduction=-1!==t.data.activeProfiles.indexOf("prod"),e.swaggerDisabled=-1!==t.data.activeProfiles.indexOf("no-swagger"),e}})),r}var r,i={getProfileInfo:n};return i}angular.module("bolgApp").factory("ProfileService",t),t.$inject=["$q","$http"]}(),function(){"use strict";function t(t,e){function n(e,n,r){t.getProfileInfo().then(function(t){t.ribbonEnv&&(e.ribbonEnv=t.ribbonEnv,n.addClass(t.ribbonEnv),n.removeClass("hidden"))})}var r={replace:!0,restrict:"AE",template:'<div class="ribbon hidden"><a href="" >{{ribbonEnv}}</a></div>',link:n};return r}angular.module("bolgApp").directive("pageRibbon",t),t.$inject=["ProfileService","$rootScope"]}(),function(){"use strict";function t(t){return t("api/account/sessions/:series",{},{getAll:{method:"GET",isArray:!0}})}angular.module("bolgApp").factory("Sessions",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){return t("api/register",{},{})}angular.module("bolgApp").factory("Register",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t,e){function n(t){u=t,c=null!==t}function r(t){if(!c||!u||!u.authorities)return!1;for(var e=0;e<t.length;e++)if(-1!==u.authorities.indexOf(t[e]))return!0;return!1}function i(e){return c?this.identity().then(function(t){return t.authorities&&-1!==t.authorities.indexOf(e)},function(){return!1}):t.when(!1)}function s(n){function r(t){u=t.data,c=!0,s.resolve(u)}function i(){u=null,c=!1,s.resolve(u)}var s=t.defer();return n===!0&&(u=void 0),angular.isDefined(u)?(s.resolve(u),s.promise):(e.get().$promise.then(r)["catch"](i),s.promise)}function o(){return c}function a(){return angular.isDefined(u)}var u,c=!1,l={authenticate:n,hasAnyAuthority:r,hasAuthority:i,identity:s,isAuthenticated:o,isIdentityResolved:a};return l}angular.module("bolgApp").factory("Principal",t),t.$inject=["$q","Account"]}(),function(){"use strict";function t(t){var e=t("api/account/reset_password/init",{},{});return e}angular.module("bolgApp").factory("PasswordResetInit",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){var e=t("api/account/reset_password/finish",{},{});return e}angular.module("bolgApp").factory("PasswordResetFinish",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){var e=t("api/account/change_password",{},{});return e}angular.module("bolgApp").factory("Password",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){function e(e,n,r){var i=r.hasAuthority.replace(/\s+/g,""),s=function(){n.removeClass("hidden")},o=function(){n.addClass("hidden")},a=function(e){e&&s(),t.hasAuthority(i).then(function(t){t?s():o()})};i.length>0&&(a(!0),e.$watch(function(){return t.isAuthenticated()},function(){a(!0)}))}var n={restrict:"A",link:e};return n}angular.module("bolgApp").directive("hasAuthority",t),t.$inject=["Principal"]}(),function(){"use strict";function t(t){function e(e,n,r){var i=r.hasAnyAuthority.replace(/\s+/g,"").split(","),s=function(){n.removeClass("hidden")},o=function(){n.addClass("hidden")},a=function(e){var n;e&&s(),n=t.hasAnyAuthority(i),n?s():o()};i.length>0&&(a(!0),e.$watch(function(){return t.isAuthenticated()},function(){a(!0)}))}var n={restrict:"A",link:e};return n}angular.module("bolgApp").directive("hasAnyAuthority",t),t.$inject=["Principal"]}(),function(){"use strict";function t(t,e){function n(){var t=e.authenticationToken;return t}function r(){var t=this.getToken();return!!t}function i(e){var n="j_username="+encodeURIComponent(e.username)+"&j_password="+encodeURIComponent(e.password)+"&remember-me="+e.rememberMe+"&submit=Login";return t.post("api/authentication",n,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){return t})}function s(){t.post("api/logout").success(function(n){return delete e.authenticationToken,t.get("api/account"),n})}var o={getToken:n,hasValidToken:r,login:i,logout:s};return o}angular.module("bolgApp").factory("AuthServerProvider",t),t.$inject=["$http","$localStorage"]}(),function(){"use strict";function t(t,e,n,r,i,s,o,a,u,c,l,h,f){function d(t,e){var n=e||angular.noop;return c.get(t,function(t){return n(t)},function(t){return n(t)}.bind(this)).$promise}function p(n){function r(){var n=i.isAuthenticated();if(!n||"account"!==t.toState.parent||"login"!==t.toState.name&&"register"!==t.toState.name||e.go("home"),n&&!t.fromState.name&&A()){var r=A();S(),e.go(r.name,r.params)}t.toState.data.authorities&&t.toState.data.authorities.length>0&&!i.hasAnyAuthority(t.toState.data.authorities)&&(n?e.go("accessdenied"):(x(t.toState.name,t.toStateParams),e.go("accessdenied").then(function(){a.open()})))}var s=i.identity(n).then(r);return s}function _(t,e){var n=e||angular.noop;return l.save(t,function(){return n()},function(t){return n(t)}).$promise}function m(t,e){var n=e||angular.noop;return u.save(t,function(){return n(t)},function(t){return this.logout(),n(t)}.bind(this)).$promise}function v(t,e){function n(t){return i.identity(!0).then(function(e){a.resolve(t)}),o()}var o=e||angular.noop,a=r.defer();return s.login(t).then(n)["catch"](function(t){return this.logout(),a.reject(t),o(t)}.bind(this)),a.promise}function g(){s.logout(),i.authenticate(null)}function b(t,e){var n=e||angular.noop;return f.save(t,function(){return n()},function(t){return n(t)}).$promise}function y(t,e){var n=e||angular.noop;return h.save(t,function(){return n()},function(t){return n(t)}).$promise}function w(t,e){var n=e||angular.noop;return o.save(t,function(){return n(t)},function(t){return n(t)}.bind(this)).$promise}function A(){var t=n.previousState;return t}function S(){delete n.previousState}function x(t,e){var r={name:t,params:e};n.previousState=r}var C={activateAccount:d,authorize:p,changePassword:_,createAccount:m,getPreviousState:A,login:v,logout:g,resetPasswordFinish:b,resetPasswordInit:y,resetPreviousState:S,storePreviousState:x,updateAccount:w};return C}angular.module("bolgApp").factory("Auth",t),t.$inject=["$rootScope","$state","$sessionStorage","$q","Principal","AuthServerProvider","Account","LoginService","Register","Activate","Password","PasswordResetInit","PasswordResetFinish"]}(),function(){"use strict";function t(t){var e=t("api/activate",{},{get:{method:"GET",params:{},isArray:!1}});return e}angular.module("bolgApp").factory("Activate",t),t.$inject=["$resource"]}(),function(){"use strict";function t(t){var e=t("api/account",{},{get:{method:"GET",params:{},isArray:!1,interceptor:{response:function(t){return t}}}});return e}angular.module("bolgApp").factory("Account",t),t.$inject=["$resource"]}(),function(t,e){"use strict";var n=t.GreenSockGlobals=t.GreenSockGlobals||t;if(!n.TweenLite){var r,i,s,o,a,u=function(t){var e,r=t.split("."),i=n;for(e=0;r.length>e;e++)i[r[e]]=i=i[r[e]]||{};return i},c=u("com.greensock"),l=1e-10,h=function(t){var e,n=[],r=t.length;for(e=0;e!==r;n.push(t[e++]));return n},f=function(){},d=function(){var t=Object.prototype.toString,e=t.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&t.call(n)===e)}}(),p={},_=function(r,i,s,o){this.sc=p[r]?p[r].sc:[],p[r]=this,this.gsClass=null,this.func=s;var a=[];this.check=function(c){for(var l,h,f,d,m=i.length,v=m;--m>-1;)(l=p[i[m]]||new _(i[m],[])).gsClass?(a[m]=l.gsClass,v--):c&&l.sc.push(this);if(0===v&&s)for(h=("com.greensock."+r).split("."),f=h.pop(),d=u(h.join("."))[f]=this.gsClass=s.apply(s,a),o&&(n[f]=d,"function"==typeof define&&define.amd?define((t.GreenSockAMDPath?t.GreenSockAMDPath+"/":"")+r.split(".").pop(),[],function(){return d}):r===e&&"undefined"!=typeof module&&module.exports&&(module.exports=d)),m=0;this.sc.length>m;m++)this.sc[m].check()},this.check(!0)},m=t._gsDefine=function(t,e,n,r){return new _(t,e,n,r)},v=c._class=function(t,e,n){return e=e||function(){},m(t,[],function(){return e},n),e};m.globals=n;var g=[0,0,1,1],b=[],y=v("easing.Ease",function(t,e,n,r){this._func=t,this._type=n||0,this._power=r||0,this._params=e?g.concat(e):g},!0),w=y.map={},A=y.register=function(t,e,n,r){for(var i,s,o,a,u=e.split(","),l=u.length,h=(n||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(s=u[l],i=r?v("easing."+s,null,!0):c.easing[s]||{},o=h.length;--o>-1;)a=h[o],w[s+"."+a]=w[a+s]=i[a]=t.getRatio?t:t[a]||new t};for(s=y.prototype,s._calcEnd=!1,s.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,n=this._power,r=1===e?1-t:2===e?t:.5>t?2*t:2*(1-t);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===e?1-r:2===e?r:.5>t?r/2:1-r/2},r=["Linear","Quad","Cubic","Quart","Quint,Strong"],i=r.length;--i>-1;)s=r[i]+",Power"+i,A(new y(null,null,1,i),s,"easeOut",!0),A(new y(null,null,2,i),s,"easeIn"+(0===i?",easeNone":"")),A(new y(null,null,3,i),s,"easeInOut");w.linear=c.easing.Linear.easeIn,w.swing=c.easing.Quad.easeInOut;var S=v("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});s=S.prototype,s.addEventListener=function(t,e,n,r,i){i=i||0;var s,u,c=this._listeners[t],l=0;for(null==c&&(this._listeners[t]=c=[]),u=c.length;--u>-1;)s=c[u],s.c===e&&s.s===n?c.splice(u,1):0===l&&i>s.pr&&(l=u+1);c.splice(l,0,{c:e,s:n,up:r,pr:i}),this!==o||a||o.wake()},s.removeEventListener=function(t,e){var n,r=this._listeners[t];if(r)for(n=r.length;--n>-1;)if(r[n].c===e)return void r.splice(n,1)},s.dispatchEvent=function(t){var e,n,r,i=this._listeners[t];if(i)for(e=i.length,n=this._eventTarget;--e>-1;)r=i[e],r.up?r.c.call(r.s||n,{type:t,target:n}):r.c.call(r.s||n)};var x=t.requestAnimationFrame,C=t.cancelAnimationFrame,T=Date.now||function(){return(new Date).getTime()},O=T();for(r=["ms","moz","webkit","o"],i=r.length;--i>-1&&!x;)x=t[r[i]+"RequestAnimationFrame"],C=t[r[i]+"CancelAnimationFrame"]||t[r[i]+"CancelRequestAnimationFrame"];v("Ticker",function(t,e){var n,r,i,s,u,c=this,h=T(),d=e!==!1&&x,p=500,_=33,m=function(t){var e,o,a=T()-O;a>p&&(h+=a-_),O+=a,c.time=(O-h)/1e3,e=c.time-u,(!n||e>0||t===!0)&&(c.frame++,u+=e+(e>=s?.004:s-e),o=!0),t!==!0&&(i=r(m)),o&&c.dispatchEvent("tick")};S.call(c),c.time=c.frame=0,c.tick=function(){m(!0)},c.lagSmoothing=function(t,e){p=t||1/l,_=Math.min(e,p,0)},c.sleep=function(){null!=i&&(d&&C?C(i):clearTimeout(i),r=f,i=null,c===o&&(a=!1))},c.wake=function(){null!==i?c.sleep():c.frame>10&&(O=T()-p+5),r=0===n?f:d&&x?x:function(t){return setTimeout(t,0|1e3*(u-c.time)+1)},c===o&&(a=!0),m(2)},c.fps=function(t){return arguments.length?(n=t,s=1/(n||60),u=this.time+s,void c.wake()):n},c.useRAF=function(t){return arguments.length?(c.sleep(),d=t,void c.fps(n)):d},c.fps(t),setTimeout(function(){d&&(!i||5>c.frame)&&c.useRAF(!1)},1500)}),s=c.Ticker.prototype=new c.events.EventDispatcher,s.constructor=c.Ticker;var E=v("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,V){a||o.wake();var n=this.vars.useFrames?B:V;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});o=E.ticker=new c.Ticker,s=E.prototype,s._dirty=s._gc=s._initted=s._paused=!1,s._totalTime=s._time=0,s._rawPrevTime=-1,s._next=s._last=s._onUpdate=s._timeline=s.timeline=null,s._paused=!1;var j=function(){a&&T()-O>2e3&&o.wake(),setTimeout(j,2e3)};j(),s.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},s.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},s.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},s.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},s.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},s.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},s.render=function(){},s.invalidate=function(){return this},s.isActive=function(){var t,e=this._timeline,n=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime())>=n&&n+this.totalDuration()/this._timeScale>t},s._enabled=function(t,e){return a||o.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},s._kill=function(){return this._enabled(!1,!1)},s.kill=function(t,e){return this._kill(t,e),this},s._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},s._swapSelfInParams=function(t){for(var e=t.length,n=t.concat();--e>-1;)"{self}"===t[e]&&(n[e]=this);return n},s.eventCallback=function(t,e,n,r){if("on"===(t||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[t];null==e?delete i[t]:(i[t]=e,i[t+"Params"]=d(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[t+"Scope"]=r),"onUpdate"===t&&(this._onUpdate=e)}return this},s.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},s.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},s.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},s.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},s.totalTime=function(t,e,n){if(a||o.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>t&&!n&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(t>r&&!n&&(t=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-t:t)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==t||0===this._duration)&&(this.render(t,e,!1),N.length&&z())}return this},s.progress=s.totalProgress=function(t,e){return arguments.length?this.totalTime(this.duration()*t,e):this._time/this.duration()},s.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},s.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||l,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,n=e||0===e?e:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},s.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},s.paused=function(t){if(!arguments.length)return this._paused;if(t!=this._paused&&this._timeline){a||t||o.wake();var e=this._timeline,n=e.rawTime(),r=n-this._pauseTime;!t&&e.smoothChildTiming&&(this._startTime+=r,this._uncache(!1)),this._pauseTime=t?n:null,this._paused=t,this._active=this.isActive(),!t&&0!==r&&this._initted&&this.duration()&&this.render(e.smoothChildTiming?this._totalTime:(n-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!t&&this._enabled(!0,!1),this};var P=v("core.SimpleTimeline",function(t){E.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});s=P.prototype=new E,s.constructor=P,s.kill()._gc=!1,s._first=s._last=null,s._sortChildren=!1,s.add=s.insert=function(t,e){var n,r;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),n=this._last,this._sortChildren)for(r=t._startTime;n&&n._startTime>r;)n=n._prev;return n?(t._next=n._next,n._next=t):(t._next=this._first,this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=n,this._timeline&&this._uncache(!0),this},s._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,this._timeline&&this._uncache(!0)),this},s.render=function(t,e,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;i;)r=i._next,(i._active||t>=i._startTime&&!i._paused)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(t-i._startTime)*i._timeScale,e,n):i.render((t-i._startTime)*i._timeScale,e,n)),i=r},s.rawTime=function(){return a||o.wake(),this._totalTime};var k=v("TweenLite",function(e,n,r){if(E.call(this,n,r),this.render=k.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:k.selector(e)||e;var i,s,o,a=e.jquery||e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?F[k.defaultOverwrite]:"number"==typeof u?u>>0:F[u],(a||e instanceof Array||e.push&&d(e))&&"number"!=typeof e[0])for(this._targets=o=h(e),this._propLookup=[],this._siblings=[],i=0;o.length>i;i++)s=o[i],s?"string"!=typeof s?s.length&&s!==t&&s[0]&&(s[0]===t||s[0].nodeType&&s[0].style&&!s.nodeType)?(o.splice(i--,1),this._targets=o=o.concat(h(s))):(this._siblings[i]=J(s,this,!1),1===u&&this._siblings[i].length>1&&Q(s,this,null,1,this._siblings[i])):(s=o[i--]=k.selector(s),"string"==typeof s&&o.splice(i+1,1)):o.splice(i--,1);else this._propLookup={},this._siblings=J(e,this,!1),1===u&&this._siblings.length>1&&Q(e,this,null,1,this._siblings);(this.vars.immediateRender||0===n&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-l,this.render(-this._delay))},!0),I=function(e){return e.length&&e!==t&&e[0]&&(e[0]===t||e[0].nodeType&&e[0].style&&!e.nodeType)},R=function(t,e){var n,r={};for(n in t)$[n]||n in e&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!q[n]||q[n]&&q[n]._autoCSS)||(r[n]=t[n],delete t[n]);t.css=r};s=k.prototype=new E,s.constructor=k,s.kill()._gc=!1,s.ratio=0,s._firstPT=s._targets=s._overwrittenProps=s._startAt=null,s._notifyPluginsOfEnabled=s._lazy=!1,k.version="1.13.1",k.defaultEase=s._ease=new y(null,null,1,1),k.defaultOverwrite="auto",k.ticker=o,k.autoSleep=!0,k.lagSmoothing=function(t,e){o.lagSmoothing(t,e)},k.selector=t.$||t.jQuery||function(e){var n=t.$||t.jQuery;return n?(k.selector=n,n(e)):"undefined"==typeof document?e:document.querySelectorAll?document.querySelectorAll(e):document.getElementById("#"===e.charAt(0)?e.substr(1):e)};var N=[],U={},D=k._internals={isArray:d,isSelector:I,lazyTweens:N},q=k._plugins={},L=D.tweenLookup={},M=0,$=D.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1},F={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},B=E._rootFramesTimeline=new P,V=E._rootTimeline=new P,z=D.lazyRender=function(){var t=N.length;for(U={};--t>-1;)r=N[t],r&&r._lazy!==!1&&(r.render(r._lazy,!1,!0),r._lazy=!1);N.length=0};V._startTime=o.time,B._startTime=o.frame,V._active=B._active=!0,setTimeout(z,1),E._updateRoot=k.render=function(){var t,e,n;if(N.length&&z(),V.render((o.time-V._startTime)*V._timeScale,!1,!1),B.render((o.frame-B._startTime)*B._timeScale,!1,!1),N.length&&z(),!(o.frame%120)){for(n in L){for(e=L[n].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete L[n]}if(n=V._first,(!n||n._paused)&&k.autoSleep&&!B._first&&1===o._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||o.sleep()}}},o.addEventListener("tick",E._updateRoot);var J=function(t,e,n){var r,i,s=t._gsTweenID;if(L[s||(t._gsTweenID=s="t"+M++)]||(L[s]={target:t,tweens:[]}),e&&(r=L[s].tweens,r[i=r.length]=e,n))for(;--i>-1;)r[i]===e&&r.splice(i,1);return L[s].tweens},Q=function(t,e,n,r,i){var s,o,a,u;if(1===r||r>=4){for(u=i.length,s=0;u>s;s++)if((a=i[s])!==e)a._gc||a._enabled(!1,!1)&&(o=!0);else if(5===r)break;return o}var c,h=e._startTime+l,f=[],d=0,p=0===e._duration;for(s=i.length;--s>-1;)(a=i[s])===e||a._gc||a._paused||(a._timeline!==e._timeline?(c=c||W(e,0,p),0===W(a,c,p)&&(f[d++]=a)):h>=a._startTime&&a._startTime+a.totalDuration()/a._timeScale>h&&((p||!a._initted)&&2e-10>=h-a._startTime||(f[d++]=a)));for(s=d;--s>-1;)a=f[s],2===r&&a._kill(n,t)&&(o=!0),(2!==r||!a._firstPT&&a._initted)&&a._enabled(!1,!1)&&(o=!0);return o},W=function(t,e,n){for(var r=t._timeline,i=r._timeScale,s=t._startTime;r._timeline;){if(s+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return s/=i,s>e?s-e:n&&s===e||!t._initted&&2*l>s-e?l:(s+=t.totalDuration()/t._timeScale/i)>e+l?0:s-e-l};s._init=function(){var t,e,n,r,i,s=this.vars,o=this._overwrittenProps,a=this._duration,u=!!s.immediateRender,c=s.ease;if(s.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={};for(r in s.startAt)i[r]=s.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=u&&s.lazy!==!1,i.startAt=i.delay=null,this._startAt=k.to(this.target,0,i),u)if(this._time>0)this._startAt=null;else if(0!==a)return}else if(s.runBackwards&&0!==a)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{n={};for(r in s)$[r]&&"autoCSS"!==r||(n[r]=s[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=u&&s.lazy!==!1,n.immediateRender=u,this._startAt=k.to(this.target,0,n),u){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1)}if(this._ease=c=c?c instanceof y?c:"function"==typeof c?new y(c,s.easeParams):w[c]||k.defaultEase:k.defaultEase,s.easeParams instanceof Array&&c.config&&(this._ease=c.config.apply(c,s.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(t=this._targets.length;--t>-1;)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],o?o[t]:null)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,o);if(e&&k._onPluginEvent("_onInitAllProps",this),o&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),s.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=s.onUpdate,this._initted=!0},s._initProps=function(e,n,r,i){var s,o,a,u,c,l;if(null==e)return!1;U[e._gsTweenID]&&z(),this.vars.css||e.style&&e!==t&&e.nodeType&&q.css&&this.vars.autoCSS!==!1&&R(this.vars,e);for(s in this.vars){if(l=this.vars[s],$[s])l&&(l instanceof Array||l.push&&d(l))&&-1!==l.join("").indexOf("{self}")&&(this.vars[s]=l=this._swapSelfInParams(l,this));else if(q[s]&&(u=new q[s])._onInitTween(e,this.vars[s],this)){for(this._firstPT=c={_next:this._firstPT,t:u,p:"setRatio",s:0,c:1,f:!0,n:s,pg:!0,pr:u._priority},o=u._overwriteProps.length;--o>-1;)n[u._overwriteProps[o]]=this._firstPT;(u._priority||u._onInitAllProps)&&(a=!0),(u._onDisable||u._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=n[s]=c={_next:this._firstPT,t:e,p:s,f:"function"==typeof e[s],n:s,pg:!1,pr:0},c.s=c.f?e[s.indexOf("set")||"function"!=typeof e["get"+s.substr(3)]?s:"get"+s.substr(3)]():parseFloat(e[s]),c.c="string"==typeof l&&"="===l.charAt(1)?parseInt(l.charAt(0)+"1",10)*Number(l.substr(2)):Number(l)-c.s||0;c&&c._next&&(c._next._prev=c)}return i&&this._kill(i,e)?this._initProps(e,n,r,i):this._overwrite>1&&this._firstPT&&r.length>1&&Q(e,this,n,this._overwrite,r)?(this._kill(n,e),this._initProps(e,n,r,i)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(U[e._gsTweenID]=!0),a)},s.render=function(t,e,n){var r,i,s,o,a=this._time,u=this._duration,c=this._rawPrevTime;if(t>=u)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete"),0===u&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(0===t||0>c||c===l)&&c!==t&&(n=!0,c>l&&(i="onReverseComplete")),this._rawPrevTime=o=!e||t||c===t?t:l);else if(1e-7>t)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==a||0===u&&c>0&&c!==l)&&(i="onReverseComplete",r=this._reversed),0>t?(this._active=!1,0===u&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(n=!0),this._rawPrevTime=o=!e||t||c===t?t:l)):this._initted||(n=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/u,f=this._easeType,d=this._easePower;(1===f||3===f&&h>=.5)&&(h=1-h),3===f&&(h*=2),1===d?h*=h:2===d?h*=h*h:3===d?h*=h*h*h:4===d&&(h*=h*h*h*h),this.ratio=1===f?1-h:2===f?h:.5>t/u?h/2:1-h/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==a||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=a,
this._rawPrevTime=c,N.push(this),void(this._lazy=t);this._time&&!r?this.ratio=this._ease.getRatio(this._time/u):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==a&&t>=0&&(this._active=!0),0===a&&(this._startAt&&(t>=0?this._startAt.render(t,e,n):i||(i="_dummyGS")),this.vars.onStart&&(0!==this._time||0===u)&&(e||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||b))),s=this._firstPT;s;)s.f?s.t[s.p](s.c*this.ratio+s.s):s.t[s.p]=s.c*this.ratio+s.s,s=s._next;this._onUpdate&&(0>t&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._time!==a||r)&&this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||b)),i&&(!this._gc||n)&&(0>t&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[i]&&this.vars[i].apply(this.vars[i+"Scope"]||this,this.vars[i+"Params"]||b),0===u&&this._rawPrevTime===l&&o!==l&&(this._rawPrevTime=0))}},s._kill=function(t,e){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:k.selector(e)||e;var n,r,i,s,o,a,u,c;if((d(e)||I(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n])&&(a=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){o=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;o=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(o){u=t||o,c=t!==r&&"all"!==r&&t!==o&&("object"!=typeof t||!t._tempKill);for(i in u)(s=o[i])&&(s.pg&&s.t._kill(u)&&(a=!0),s.pg&&0!==s.t._overwriteProps.length||(s._prev?s._prev._next=s._next:s===this._firstPT&&(this._firstPT=s._next),s._next&&(s._next._prev=s._prev),s._next=s._prev=null),delete o[i]),c&&(r[i]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return a},s.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=this._lazy=!1,this._propLookup=this._targets?{}:[],this},s._enabled=function(t,e){if(a||o.wake(),t&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=J(r[n],this,!0);else this._siblings=J(this.target,this,!0)}return E.prototype._enabled.call(this,t,e),this._notifyPluginsOfEnabled&&this._firstPT?k._onPluginEvent(t?"_onEnable":"_onDisable",this):!1},k.to=function(t,e,n){return new k(t,e,n)},k.from=function(t,e,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new k(t,e,n)},k.fromTo=function(t,e,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new k(t,e,r)},k.delayedCall=function(t,e,n,r,i){return new k(e,0,{delay:t,onComplete:e,onCompleteParams:n,onCompleteScope:r,onReverseComplete:e,onReverseCompleteParams:n,onReverseCompleteScope:r,immediateRender:!1,useFrames:i,overwrite:0})},k.set=function(t,e){return new k(t,0,e)},k.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:k.selector(t)||t;var n,r,i,s;if((d(t)||I(t))&&"number"!=typeof t[0]){for(n=t.length,r=[];--n>-1;)r=r.concat(k.getTweensOf(t[n],e));for(n=r.length;--n>-1;)for(s=r[n],i=n;--i>-1;)s===r[i]&&r.splice(n,1)}else for(r=J(t).concat(),n=r.length;--n>-1;)(r[n]._gc||e&&!r[n].isActive())&&r.splice(n,1);return r},k.killTweensOf=k.killDelayedCallsTo=function(t,e,n){"object"==typeof e&&(n=e,e=!1);for(var r=k.getTweensOf(t,e),i=r.length;--i>-1;)r[i]._kill(n,t)};var G=v("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=G.prototype},!0);if(s=G.prototype,G.version="1.10.1",G.API=2,s._firstPT=null,s._addTween=function(t,e,n,r,i,s){var o,a;return null!=r&&(o="number"==typeof r||"="!==r.charAt(1)?Number(r)-n:parseInt(r.charAt(0)+"1",10)*Number(r.substr(2)))?(this._firstPT=a={_next:this._firstPT,t:t,p:e,s:n,c:o,f:"function"==typeof t[e],n:i||e,r:s},a._next&&(a._next._prev=a),a):void 0},s.setRatio=function(t){for(var e,n=this._firstPT,r=1e-6;n;)e=n.c*t+n.s,n.r?e=Math.round(e):r>e&&e>-r&&(e=0),n.f?n.t[n.p](e):n.t[n.p]=e,n=n._next},s._kill=function(t){var e,n=this._overwriteProps,r=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=n.length;--e>-1;)null!=t[n[e]]&&n.splice(e,1);for(;r;)null!=t[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},s._roundProps=function(t,e){for(var n=this._firstPT;n;)(t[this._propName]||null!=n.n&&t[n.n.split(this._propName+"_").join("")])&&(n.r=e),n=n._next},k._onPluginEvent=function(t,e){var n,r,i,s,o,a=e._firstPT;if("_onInitAllProps"===t){for(;a;){for(o=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:s)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:s=a,a=o}a=e._firstPT=i}for(;a;)a.pg&&"function"==typeof a.t[t]&&a.t[t]()&&(n=!0),a=a._next;return n},G.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===G.API&&(q[(new t[e])._propName]=t[e]);return!0},m.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,n=t.propName,r=t.priority||0,i=t.overwriteProps,s={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=v("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){G.call(this,n,r),this._overwriteProps=i||[]},t.global===!0),a=o.prototype=new G(n);a.constructor=o,o.API=t.API;for(e in s)"function"==typeof t[e]&&(a[s[e]]=t[e]);return o.version=t.version,G.activate([o]),o},r=t._gsQueue){for(i=0;r.length>i;i++)r[i]();for(s in p)p[s].func||t.console.log("GSAP encountered missing dependency: com.greensock."+s)}a=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("easing.Back",["easing.Ease"],function(t){var e,n,r,i=_gsScope.GreenSockGlobals||_gsScope,s=i.com.greensock,o=2*Math.PI,a=Math.PI/2,u=s._class,c=function(e,n){var r=u("easing."+e,function(){},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,r},l=t.register||function(){},h=function(t,e,n,r){var i=u("easing."+t,{easeOut:new e,easeIn:new n,easeInOut:new r},!0);return l(i,t),i},f=function(t,e,n){this.t=t,this.v=e,n&&(this.next=n,n.prev=this,this.c=n.v-e,this.gap=n.t-t)},d=function(e,n){var r=u("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new t;return i.constructor=r,i.getRatio=n,i.config=function(t){return new r(t)},r},p=h("Back",d("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),d("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),d("BackInOut",function(t){return 1>(t*=2)?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),_=u("easing.SlowMo",function(t,e,n){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=n===!0},!0),m=_.prototype=new t;return m.constructor=_,m.getRatio=function(t){var e=t+(.5-t)*this._p;return this._p1>t?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},_.ease=new _(.7,.7),m.config=_.config=function(t,e,n){return new _(t,e,n)},e=u("easing.SteppedEase",function(t){t=t||1,this._p1=1/t,this._p2=t+1},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return 0>t?t=0:t>=1&&(t=.999999999),(this._p2*t>>0)*this._p1},m.config=e.config=function(t){return new e(t)},n=u("easing.RoughEase",function(e){e=e||{};for(var n,r,i,s,o,a,u=e.taper||"none",c=[],l=0,h=0|(e.points||20),d=h,p=e.randomize!==!1,_=e.clamp===!0,m=e.template instanceof t?e.template:null,v="number"==typeof e.strength?.4*e.strength:.4;--d>-1;)n=p?Math.random():1/h*d,r=m?m.getRatio(n):n,"none"===u?i=v:"out"===u?(s=1-n,i=s*s*v):"in"===u?i=n*n*v:.5>n?(s=2*n,i=.5*s*s*v):(s=2*(1-n),i=.5*s*s*v),p?r+=Math.random()*i-.5*i:d%2?r+=.5*i:r-=.5*i,_&&(r>1?r=1:0>r&&(r=0)),c[l++]={x:n,y:r};for(c.sort(function(t,e){return t.x-e.x}),a=new f(1,1,null),d=h;--d>-1;)o=c[d],a=new f(o.x,o.y,a);this._prev=new f(0,0,0!==a.t?a:a.next)},!0),m=n.prototype=new t,m.constructor=n,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&e.t>=t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new n(t)},n.ease=new n,h("Bounce",c("BounceOut",function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),c("BounceIn",function(t){return 1/2.75>(t=1-t)?1-7.5625*t*t:2/2.75>t?1-(7.5625*(t-=1.5/2.75)*t+.75):2.5/2.75>t?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),c("BounceInOut",function(t){var e=.5>t;return t=e?1-2*t:2*t-1,t=1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),h("Circ",c("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),c("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),c("CircInOut",function(t){return 1>(t*=2)?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),r=function(e,n,r){var i=u("easing."+e,function(t,e){this._p1=t||1,this._p2=e||r,this._p3=this._p2/o*(Math.asin(1/this._p1)||0)},!0),s=i.prototype=new t;return s.constructor=i,s.getRatio=n,s.config=function(t,e){return new i(t,e)},i},h("Elastic",r("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*o/this._p2)+1},.3),r("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*o/this._p2))},.3),r("ElasticInOut",function(t){return 1>(t*=2)?-.5*this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*o/this._p2):.5*this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*o/this._p2)+1},.45)),h("Expo",c("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),c("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),c("ExpoInOut",function(t){return 1>(t*=2)?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),h("Sine",c("SineOut",function(t){return Math.sin(t*a)}),c("SineIn",function(t){return-Math.cos(t*a)+1}),c("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),u("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),l(i.SlowMo,"SlowMo","ease,"),l(n,"RoughEase","ease,"),l(e,"SteppedEase","ease,"),p},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.AV=t()}}(function(){var t;return function e(t,n,r){function i(o,a){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(s)return s(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return i(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){},{}],2:[function(t,e,n){function r(){l=!1,a.length?c=a.concat(c):h=-1,c.length&&i()}function i(){if(!l){var t=setTimeout(r);l=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,l=!1,clearTimeout(t)}}function s(t,e){this.fun=t,this.array=e}function o(){}var a,u=e.exports={},c=[],l=!1,h=-1;u.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new s(t,e)),1!==c.length||l||setTimeout(i,0)},s.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=o,u.addListener=o,u.once=o,u.off=o,u.removeListener=o,u.removeAllListeners=o,u.emit=o,u.binding=function(t){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(t){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],3:[function(t,e,n){function r(t){return t?i(t):void 0}function i(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}"undefined"!=typeof e&&(e.exports=r),r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],4:[function(t,e,n){function r(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31}function i(){var t=arguments,e=this.useColors;if(t[0]=(e?"%c":"")+this.namespace+(e?" %c":" ")+t[0]+(e?"%c ":" ")+"+"+n.humanize(this.diff),!e)return t;var r="color: "+this.color;t=[t[0],r,"color: inherit"].concat(Array.prototype.slice.call(t,1));var i=0,s=0;return t[0].replace(/%[a-z%]/g,function(t){"%%"!==t&&(i++,"%c"===t&&(s=i))}),t.splice(s,0,r),t}function s(){return"object"===("undefined"==typeof console?"undefined":_typeof(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(t){try{null==t?n.storage.removeItem("debug"):n.storage.debug=t}catch(e){}}function a(){var t;try{t=n.storage.debug}catch(e){}return t}function u(){try{return window.localStorage}catch(t){}}n=e.exports=t("./debug"),n.log=s,n.formatArgs=i,n.save=o,n.load=a,n.useColors=r,n.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),n.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],n.formatters.j=function(t){return JSON.stringify(t)},n.enable(a())},{"./debug":5}],5:[function(t,e,n){function r(){return n.colors[l++%n.colors.length]}function i(t){function e(){}function i(){var t=i,e=+new Date,s=e-(c||e);t.diff=s,t.prev=c,t.curr=e,c=e,null==t.useColors&&(t.useColors=n.useColors()),null==t.color&&t.useColors&&(t.color=r());var o=Array.prototype.slice.call(arguments);o[0]=n.coerce(o[0]),"string"!=typeof o[0]&&(o=["%o"].concat(o));var a=0;o[0]=o[0].replace(/%([a-z%])/g,function(e,r){if("%%"===e)return e;a++;var i=n.formatters[r];if("function"==typeof i){var s=o[a];e=i.call(t,s),o.splice(a,1),a--}return e}),"function"==typeof n.formatArgs&&(o=n.formatArgs.apply(t,o));var u=i.log||n.log||console.log.bind(console);u.apply(t,o)}e.enabled=!1,i.enabled=!0;var s=n.enabled(t)?i:e;return s.namespace=t,s}function s(t){n.save(t);for(var e=(t||"").split(/[\s,]+/),r=e.length,i=0;r>i;i++)e[i]&&(t=e[i].replace(/\*/g,".*?"),"-"===t[0]?n.skips.push(new RegExp("^"+t.substr(1)+"$")):n.names.push(new RegExp("^"+t+"$")))}function o(){n.enable("")}function a(t){var e,r;for(e=0,r=n.skips.length;r>e;e++)if(n.skips[e].test(t))return!1;for(e=0,r=n.names.length;r>e;e++)if(n.names[e].test(t))return!0;return!1}function u(t){return t instanceof Error?t.stack||t.message:t}n=e.exports=i,n.coerce=u,n.disable=o,n.enable=s,n.enabled=a,n.humanize=t("ms"),n.names=[],n.skips=[],n.formatters={};var c,l=0},{ms:6}],6:[function(t,e,n){function r(t){if(t=""+t,!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*h;case"days":case"day":case"d":return n*l;case"hours":case"hour":case"hrs":case"hr":case"h":return n*c;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}function i(t){return t>=l?Math.round(t/l)+"d":t>=c?Math.round(t/c)+"h":t>=u?Math.round(t/u)+"m":t>=a?Math.round(t/a)+"s":t+"ms"}function s(t){return o(t,l,"day")||o(t,c,"hour")||o(t,u,"minute")||o(t,a,"second")||t+" ms"}function o(t,e,n){return e>t?void 0:1.5*e>t?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var a=1e3,u=60*a,c=60*u,l=24*c,h=365.25*l;e.exports=function(t,e){return e=e||{},"string"==typeof t?r(t):e["long"]?s(t):i(t)}},{}],7:[function(t,e,n){!function(t){var r={},i={};r.length=0,r.getItem=function(t){return i[t]||null},r.setItem=function(t,e){"undefined"==typeof e?r.removeItem(t):(i.hasOwnProperty(t)||r.length++,i[t]=""+e)},r.removeItem=function(t){i.hasOwnProperty(t)&&(delete i[t],r.length--)},r.key=function(t){return Object.keys(i)[t]||null},r.clear=function(){i={},r.length=0},"object"===("undefined"==typeof n?"undefined":_typeof(n))?e.exports=r:t.localStorageMemory=r}(this)},{}],8:[function(t,e,n){!function(){var n=t("crypt"),r=t("charenc").utf8,i=t("is-buffer"),s=t("charenc").bin,o=function a(t,e){t.constructor==String?t=e&&"binary"===e.encoding?s.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||(t=t.toString());for(var o=n.bytesToWords(t),u=8*t.length,c=1732584193,l=-271733879,h=-1732584194,f=271733878,d=0;d<o.length;d++)o[d]=16711935&(o[d]<<8|o[d]>>>24)|4278255360&(o[d]<<24|o[d]>>>8);o[u>>>5]|=128<<u%32,o[(u+64>>>9<<4)+14]=u;for(var p=a._ff,_=a._gg,m=a._hh,v=a._ii,d=0;d<o.length;d+=16){var g=c,b=l,y=h,w=f;c=p(c,l,h,f,o[d+0],7,-680876936),f=p(f,c,l,h,o[d+1],12,-389564586),h=p(h,f,c,l,o[d+2],17,606105819),l=p(l,h,f,c,o[d+3],22,-1044525330),c=p(c,l,h,f,o[d+4],7,-176418897),f=p(f,c,l,h,o[d+5],12,1200080426),h=p(h,f,c,l,o[d+6],17,-1473231341),l=p(l,h,f,c,o[d+7],22,-45705983),c=p(c,l,h,f,o[d+8],7,1770035416),f=p(f,c,l,h,o[d+9],12,-1958414417),h=p(h,f,c,l,o[d+10],17,-42063),l=p(l,h,f,c,o[d+11],22,-1990404162),c=p(c,l,h,f,o[d+12],7,1804603682),f=p(f,c,l,h,o[d+13],12,-40341101),h=p(h,f,c,l,o[d+14],17,-1502002290),l=p(l,h,f,c,o[d+15],22,1236535329),c=_(c,l,h,f,o[d+1],5,-165796510),f=_(f,c,l,h,o[d+6],9,-1069501632),h=_(h,f,c,l,o[d+11],14,643717713),l=_(l,h,f,c,o[d+0],20,-373897302),c=_(c,l,h,f,o[d+5],5,-701558691),f=_(f,c,l,h,o[d+10],9,38016083),h=_(h,f,c,l,o[d+15],14,-660478335),l=_(l,h,f,c,o[d+4],20,-405537848),c=_(c,l,h,f,o[d+9],5,568446438),f=_(f,c,l,h,o[d+14],9,-1019803690),h=_(h,f,c,l,o[d+3],14,-187363961),l=_(l,h,f,c,o[d+8],20,1163531501),c=_(c,l,h,f,o[d+13],5,-1444681467),f=_(f,c,l,h,o[d+2],9,-51403784),h=_(h,f,c,l,o[d+7],14,1735328473),l=_(l,h,f,c,o[d+12],20,-1926607734),c=m(c,l,h,f,o[d+5],4,-378558),f=m(f,c,l,h,o[d+8],11,-2022574463),h=m(h,f,c,l,o[d+11],16,1839030562),l=m(l,h,f,c,o[d+14],23,-35309556),c=m(c,l,h,f,o[d+1],4,-1530992060),f=m(f,c,l,h,o[d+4],11,1272893353),h=m(h,f,c,l,o[d+7],16,-155497632),l=m(l,h,f,c,o[d+10],23,-1094730640),c=m(c,l,h,f,o[d+13],4,681279174),f=m(f,c,l,h,o[d+0],11,-358537222),h=m(h,f,c,l,o[d+3],16,-722521979),l=m(l,h,f,c,o[d+6],23,76029189),c=m(c,l,h,f,o[d+9],4,-640364487),f=m(f,c,l,h,o[d+12],11,-421815835),h=m(h,f,c,l,o[d+15],16,530742520),l=m(l,h,f,c,o[d+2],23,-995338651),c=v(c,l,h,f,o[d+0],6,-198630844),f=v(f,c,l,h,o[d+7],10,1126891415),h=v(h,f,c,l,o[d+14],15,-1416354905),l=v(l,h,f,c,o[d+5],21,-57434055),c=v(c,l,h,f,o[d+12],6,1700485571),f=v(f,c,l,h,o[d+3],10,-1894986606),h=v(h,f,c,l,o[d+10],15,-1051523),l=v(l,h,f,c,o[d+1],21,-2054922799),c=v(c,l,h,f,o[d+8],6,1873313359),f=v(f,c,l,h,o[d+15],10,-30611744),h=v(h,f,c,l,o[d+6],15,-1560198380),l=v(l,h,f,c,o[d+13],21,1309151649),c=v(c,l,h,f,o[d+4],6,-145523070),f=v(f,c,l,h,o[d+11],10,-1120210379),h=v(h,f,c,l,o[d+2],15,718787259),l=v(l,h,f,c,o[d+9],21,-343485551),c=c+g>>>0,l=l+b>>>0,h=h+y>>>0,f=f+w>>>0}return n.endian([c,l,h,f])};o._ff=function(t,e,n,r,i,s,o){var a=t+(e&n|~e&r)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._gg=function(t,e,n,r,i,s,o){var a=t+(e&r|n&~r)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._hh=function(t,e,n,r,i,s,o){var a=t+(e^n^r)+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._ii=function(t,e,n,r,i,s,o){var a=t+(n^(e|~r))+(i>>>0)+o;return(a<<s|a>>>32-s)+e},o._blocksize=16,o._digestsize=16,e.exports=function(t,e){if("undefined"!=typeof t){var r=n.wordsToBytes(o(t,e));return e&&e.asBytes?r:e&&e.asString?s.bytesToString(r):n.bytesToHex(r)}}}()},{charenc:9,crypt:10,"is-buffer":11}],9:[function(t,e,n){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};e.exports=r},{}],10:[function(t,e,n){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],s=0;4>s;s++)8*r+6*s<=8*e.length?n.push(t.charAt(i>>>6*(3-s)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},{}],11:[function(t,e,n){e.exports=function(t){return!(null==t||!t.constructor||"function"!=typeof t.constructor.isBuffer||!t.constructor.isBuffer(t))}},{}],12:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,i=t.length,s=3==arguments.length?n:t[r++];i>r;)s=e.call(null,s,t[r],++r,t);return s}},{}],13:[function(t,e,n){function r(){}function i(t){if(!g(t))return t;var e=[];for(var n in t)null!=t[n]&&s(e,n,t[n]);return e.join("&")}function s(t,e,n){if(Array.isArray(n))return n.forEach(function(n){s(t,e,n)});if(g(n))for(var r in n)s(t,e+"["+r+"]",n[r]);else t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function o(t){for(var e,n,r={},i=t.split("&"),s=0,o=i.length;o>s;++s)e=i[s],n=e.indexOf("="),-1==n?r[decodeURIComponent(e)]="":r[decodeURIComponent(e.slice(0,n))]=decodeURIComponent(e.slice(n+1));return r}function a(t){var e,n,r,i,s=t.split(/\r?\n/),o={};s.pop();for(var a=0,u=s.length;u>a;++a)n=s[a],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=y(n.slice(e+1)),o[r]=i;return o}function u(t){return/[\/+]json\b/.test(t)}function c(t){return t.split(/ *; */).shift()}function l(t){return m(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this._setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function f(t,e){var n=this;this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,t.statusCode=n.xhr&&n.xhr.status?n.xhr.status:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(i,e)})}function d(t,e){var n=b("DELETE",t);return e&&n.end(e),n}var p,_=t("emitter"),m=t("reduce"),v=t("./request-base"),g=t("./is-object");p="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var b=e.exports=t("./request").bind(null,f);b.getXHR=function(){if(!(!p.XMLHttpRequest||p.location&&"file:"==p.location.protocol&&p.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};b.serializeObject=i,b.parseString=o,b.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},b.serialize={"application/x-www-form-urlencoded":i,"application/json":JSON.stringify},b.parse={"application/x-www-form-urlencoded":o,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype._setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=l(e);for(var r in n)this[r]=n[r]},h.prototype._parseBody=function(t){var e=b.parse[this.type];return!e&&u(this.type)&&(e=b.parse["application/json"]),e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype._setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},b.Response=h,_(f.prototype);for(var w in v)f.prototype[w]=v[w];f.prototype.type=function(t){return this.set("Content-Type",b.types[t]||t),this},f.prototype.responseType=function(t){return this._responseType=t,this},f.prototype.accept=function(t){return this.set("Accept",b.types[t]||t),this},f.prototype.auth=function(t,e,n){switch(n||(n={type:"basic"}),n.type){case"basic":var r=btoa(t+":"+e);this.set("Authorization","Basic "+r);break;case"auto":this.username=t,this.password=e}return this},f.prototype.query=function(t){return"string"!=typeof t&&(t=i(t)),t&&this._query.push(t),this},f.prototype.attach=function(t,e,n){return this._getFormData().append(t,e,n||e.name),this},f.prototype._getFormData=function(){return this._formData||(this._formData=new p.FormData),this._formData},f.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},f.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},f.prototype._timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},f.prototype._appendQueryString=function(){var t=this._query.join("&");t&&(this.url+=~this.url.indexOf("?")?"&"+t:"?"+t)},f.prototype.end=function(t){var e=this,n=this.xhr=b.getXHR(),i=this._timeout,s=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e._timeoutError();if(e._aborted)return;return e.crossDomainError()}e.emit("end")}};var o=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=o);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=o)}catch(a){}if(i&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},i)),this._appendQueryString(),this.username&&this.password?n.open(this.method,this.url,!0,this.username,this.password):n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!this._isHost(s)){var c=this._header["content-type"],l=this._serializer||b.serialize[c?c.split(";")[0]:""];!l&&u(c)&&(l=b.serialize["application/json"]),l&&(s=l(s))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this._responseType&&(n.responseType=this._responseType),this.emit("request",this),n.send("undefined"!=typeof s?s:null),this},b.Request=f,b.get=function(t,e,n){var r=b("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},b.head=function(t,e,n){var r=b("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.options=function(t,e,n){var r=b("OPTIONS",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.del=d,b["delete"]=d,b.patch=function(t,e,n){var r=b("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.post=function(t,e,n){var r=b("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},b.put=function(t,e,n){var r=b("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r}},{"./is-object":14,"./request":16,"./request-base":15,emitter:3,reduce:12}],14:[function(t,e,n){function r(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))}e.exports=r},{}],15:[function(t,e,n){var r=t("./is-object");n.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},n.parse=function(t){return this._parser=t,this},n.serialize=function(t){return this._serializer=t,this},n.timeout=function(t){return this._timeout=t,this},n.then=function(t,e){if(!this._fullfilledPromise){var n=this;this._fullfilledPromise=new Promise(function(t,e){n.end(function(n,r){n?e(n):t(r)})})}return this._fullfilledPromise.then(t,e)},n.use=function(t){return t(this),
this},n.get=function(t){return this._header[t.toLowerCase()]},n.getHeader=n.get,n.set=function(t,e){if(r(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},n.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},n.field=function(t,e){return this._getFormData().append(t,e),this},n.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},n.withCredentials=function(){return this._withCredentials=!0,this},n.redirects=function(t){return this._maxRedirects=t,this},n.toJSON=function(){return{method:this.method,url:this.url,data:this._data}},n._isHost=function(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}},n.send=function(t){var e=r(t),n=this._header["content-type"];if(e&&r(this._data))for(var i in t)this._data[i]=t[i];else"string"==typeof t?(n||this.type("form"),n=this._header["content-type"],"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||this._isHost(t)?this:(n||this.type("json"),this)}},{"./is-object":14}],16:[function(t,e,n){function r(t,e,n){return"function"==typeof n?new t("GET",e).end(n):2==arguments.length?new t("GET",e):new t(e,n)}e.exports=r},{}],17:[function(e,n,r){(function(){function e(t){function e(e,n,r,i,s,o){for(;s>=0&&o>s;s+=t){var a=i?i[s]:s;r=n(r,e[a],a,e)}return r}return function(n,r,i,s){r=A(r,s,4);var o=!j(n)&&w.keys(n),a=(o||n).length,u=t>0?0:a-1;return arguments.length<3&&(i=n[o?o[u]:u],u+=t),e(n,r,i,o,u,a)}}function i(t){return function(e,n,r){n=S(n,r);for(var i=E(e),s=t>0?0:i-1;s>=0&&i>s;s+=t)if(n(e[s],s,e))return s;return-1}}function s(t,e,n){return function(r,i,s){var o=0,a=E(r);if("number"==typeof s)t>0?o=s>=0?s:Math.max(s+a,o):a=s>=0?Math.min(s+1,a):s+a+1;else if(n&&s&&a)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(d.call(r,o,a),w.isNaN),s>=0?s+o:-1;for(s=t>0?o:a-1;s>=0&&a>s;s+=t)if(r[s]===i)return s;return-1}}function o(t,e){var n=N.length,r=t.constructor,i=w.isFunction(r)&&r.prototype||l,s="constructor";for(w.has(t,s)&&!w.contains(e,s)&&e.push(s);n--;)s=N[n],s in t&&t[s]!==i[s]&&!w.contains(e,s)&&e.push(s)}var a=this,u=a._,c=Array.prototype,l=Object.prototype,h=Function.prototype,f=c.push,d=c.slice,p=l.toString,_=l.hasOwnProperty,m=Array.isArray,v=Object.keys,g=h.bind,b=Object.create,y=function(){},w=function J(t){return t instanceof J?t:this instanceof J?void(this._wrapped=t):new J(t)};"undefined"!=typeof r?("undefined"!=typeof n&&n.exports&&(r=n.exports=w),r._=w):a._=w,w.VERSION="1.8.3";var A=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}},S=function(t,e,n){return null==t?w.identity:w.isFunction(t)?A(t,e,n):w.isObject(t)?w.matcher(t):w.property(t)};w.iteratee=function(t,e){return S(t,e,1/0)};var x=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var s=arguments[i],o=t(s),a=o.length,u=0;a>u;u++){var c=o[u];e&&void 0!==n[c]||(n[c]=s[c])}return n}},C=function(t){if(!w.isObject(t))return{};if(b)return b(t);y.prototype=t;var e=new y;return y.prototype=null,e},T=function(t){return function(e){return null==e?void 0:e[t]}},O=Math.pow(2,53)-1,E=T("length"),j=function(t){var e=E(t);return"number"==typeof e&&e>=0&&O>=e};w.each=w.forEach=function(t,e,n){e=A(e,n);var r,i;if(j(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var s=w.keys(t);for(r=0,i=s.length;i>r;r++)e(t[s[r]],s[r],t)}return t},w.map=w.collect=function(t,e,n){e=S(e,n);for(var r=!j(t)&&w.keys(t),i=(r||t).length,s=Array(i),o=0;i>o;o++){var a=r?r[o]:o;s[o]=e(t[a],a,t)}return s},w.reduce=w.foldl=w.inject=e(1),w.reduceRight=w.foldr=e(-1),w.find=w.detect=function(t,e,n){var r;return r=j(t)?w.findIndex(t,e,n):w.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},w.filter=w.select=function(t,e,n){var r=[];return e=S(e,n),w.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},w.reject=function(t,e,n){return w.filter(t,w.negate(S(e)),n)},w.every=w.all=function(t,e,n){e=S(e,n);for(var r=!j(t)&&w.keys(t),i=(r||t).length,s=0;i>s;s++){var o=r?r[s]:s;if(!e(t[o],o,t))return!1}return!0},w.some=w.any=function(t,e,n){e=S(e,n);for(var r=!j(t)&&w.keys(t),i=(r||t).length,s=0;i>s;s++){var o=r?r[s]:s;if(e(t[o],o,t))return!0}return!1},w.contains=w.includes=w.include=function(t,e,n,r){return j(t)||(t=w.values(t)),("number"!=typeof n||r)&&(n=0),w.indexOf(t,e,n)>=0},w.invoke=function(t,e){var n=d.call(arguments,2),r=w.isFunction(e);return w.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},w.pluck=function(t,e){return w.map(t,w.property(e))},w.where=function(t,e){return w.filter(t,w.matcher(e))},w.findWhere=function(t,e){return w.find(t,w.matcher(e))},w.max=function(t,e,n){var r,i,s=-(1/0),o=-(1/0);if(null==e&&null!=t){t=j(t)?t:w.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],r>s&&(s=r)}else e=S(e,n),w.each(t,function(t,n,r){i=e(t,n,r),(i>o||i===-(1/0)&&s===-(1/0))&&(s=t,o=i)});return s},w.min=function(t,e,n){var r,i,s=1/0,o=1/0;if(null==e&&null!=t){t=j(t)?t:w.values(t);for(var a=0,u=t.length;u>a;a++)r=t[a],s>r&&(s=r)}else e=S(e,n),w.each(t,function(t,n,r){i=e(t,n,r),(o>i||i===1/0&&s===1/0)&&(s=t,o=i)});return s},w.shuffle=function(t){for(var e,n=j(t)?t:w.values(t),r=n.length,i=Array(r),s=0;r>s;s++)e=w.random(0,s),e!==s&&(i[s]=i[e]),i[e]=n[s];return i},w.sample=function(t,e,n){return null==e||n?(j(t)||(t=w.values(t)),t[w.random(t.length-1)]):w.shuffle(t).slice(0,Math.max(0,e))},w.sortBy=function(t,e,n){return e=S(e,n),w.pluck(w.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var P=function(t){return function(e,n,r){var i={};return n=S(n,r),w.each(e,function(r,s){var o=n(r,s,e);t(i,r,o)}),i}};w.groupBy=P(function(t,e,n){w.has(t,n)?t[n].push(e):t[n]=[e]}),w.indexBy=P(function(t,e,n){t[n]=e}),w.countBy=P(function(t,e,n){w.has(t,n)?t[n]++:t[n]=1}),w.toArray=function(t){return t?w.isArray(t)?d.call(t):j(t)?w.map(t,w.identity):w.values(t):[]},w.size=function(t){return null==t?0:j(t)?t.length:w.keys(t).length},w.partition=function(t,e,n){e=S(e,n);var r=[],i=[];return w.each(t,function(t,n,s){(e(t,n,s)?r:i).push(t)}),[r,i]},w.first=w.head=w.take=function(t,e,n){return null!=t?null==e||n?t[0]:w.initial(t,t.length-e):void 0},w.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},w.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:w.rest(t,Math.max(0,t.length-e)):void 0},w.rest=w.tail=w.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},w.compact=function(t){return w.filter(t,w.identity)};var k=function Q(t,e,n,r){for(var i=[],s=0,o=r||0,a=E(t);a>o;o++){var u=t[o];if(j(u)&&(w.isArray(u)||w.isArguments(u))){e||(u=Q(u,e,n));var c=0,l=u.length;for(i.length+=l;l>c;)i[s++]=u[c++]}else n||(i[s++]=u)}return i};w.flatten=function(t,e){return k(t,e,!1)},w.without=function(t){return w.difference(t,d.call(arguments,1))},w.uniq=w.unique=function(t,e,n,r){w.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=S(n,r));for(var i=[],s=[],o=0,a=E(t);a>o;o++){var u=t[o],c=n?n(u,o,t):u;e?(o&&s===c||i.push(u),s=c):n?w.contains(s,c)||(s.push(c),i.push(u)):w.contains(i,u)||i.push(u)}return i},w.union=function(){return w.uniq(k(arguments,!0,!0))},w.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=E(t);i>r;r++){var s=t[r];if(!w.contains(e,s)){for(var o=1;n>o&&w.contains(arguments[o],s);o++);o===n&&e.push(s)}}return e},w.difference=function(t){var e=k(arguments,!0,!0,1);return w.filter(t,function(t){return!w.contains(e,t)})},w.zip=function(){return w.unzip(arguments)},w.unzip=function(t){for(var e=t&&w.max(t,E).length||0,n=Array(e),r=0;e>r;r++)n[r]=w.pluck(t,r);return n},w.object=function(t,e){for(var n={},r=0,i=E(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},w.findIndex=i(1),w.findLastIndex=i(-1),w.sortedIndex=function(t,e,n,r){n=S(n,r,1);for(var i=n(e),s=0,o=E(t);o>s;){var a=Math.floor((s+o)/2);n(t[a])<i?s=a+1:o=a}return s},w.indexOf=s(1,w.findIndex,w.sortedIndex),w.lastIndexOf=s(-1,w.findLastIndex),w.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;r>s;s++,t+=n)i[s]=t;return i};var I=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=C(t.prototype),o=t.apply(s,i);return w.isObject(o)?o:s};w.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,d.call(arguments,1));if(!w.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function i(){return I(t,i,e,this,n.concat(d.call(arguments)))};return r},w.partial=function(t){var e=d.call(arguments,1),n=function r(){for(var n=0,i=e.length,s=Array(i),o=0;i>o;o++)s[o]=e[o]===w?arguments[n++]:e[o];for(;n<arguments.length;)s.push(arguments[n++]);return I(t,r,this,this,s)};return n},w.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=w.bind(t[n],t);return t},w.memoize=function(t,e){var n=function r(n){var i=r.cache,s=""+(e?e.apply(this,arguments):n);return w.has(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},w.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},w.defer=w.partial(w.delay,w,1),w.throttle=function(t,e,n){var r,i,s,o=null,a=0;n||(n={});var u=function(){a=n.leading===!1?0:w.now(),o=null,s=t.apply(r,i),o||(r=i=null)};return function(){var c=w.now();a||n.leading!==!1||(a=c);var l=e-(c-a);return r=this,i=arguments,0>=l||l>e?(o&&(clearTimeout(o),o=null),a=c,s=t.apply(r,i),o||(r=i=null)):o||n.trailing===!1||(o=setTimeout(u,l)),s}},w.debounce=function(t,e,n){var r,i,s,o,a,u=function c(){var u=w.now()-o;e>u&&u>=0?r=setTimeout(c,e-u):(r=null,n||(a=t.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,o=w.now();var c=n&&!r;return r||(r=setTimeout(u,e)),c&&(a=t.apply(s,i),s=i=null),a}},w.wrap=function(t,e){return w.partial(e,t)},w.negate=function(t){return function(){return!t.apply(this,arguments)}},w.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},w.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},w.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},w.once=w.partial(w.before,2);var R=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];w.keys=function(t){if(!w.isObject(t))return[];if(v)return v(t);var e=[];for(var n in t)w.has(t,n)&&e.push(n);return R&&o(t,e),e},w.allKeys=function(t){if(!w.isObject(t))return[];var e=[];for(var n in t)e.push(n);return R&&o(t,e),e},w.values=function(t){for(var e=w.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},w.mapObject=function(t,e,n){e=S(e,n);for(var r,i=w.keys(t),s=i.length,o={},a=0;s>a;a++)r=i[a],o[r]=e(t[r],r,t);return o},w.pairs=function(t){for(var e=w.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},w.invert=function(t){for(var e={},n=w.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},w.functions=w.methods=function(t){var e=[];for(var n in t)w.isFunction(t[n])&&e.push(n);return e.sort()},w.extend=x(w.allKeys),w.extendOwn=w.assign=x(w.keys),w.findKey=function(t,e,n){e=S(e,n);for(var r,i=w.keys(t),s=0,o=i.length;o>s;s++)if(r=i[s],e(t[r],r,t))return r},w.pick=function(t,e,n){var r,i,s={},o=t;if(null==o)return s;w.isFunction(e)?(i=w.allKeys(o),r=A(e,n)):(i=k(arguments,!1,!1,1),r=function(t,e,n){return e in n},o=Object(o));for(var a=0,u=i.length;u>a;a++){var c=i[a],l=o[c];r(l,c,o)&&(s[c]=l)}return s},w.omit=function(t,e,n){if(w.isFunction(e))e=w.negate(e);else{var r=w.map(k(arguments,!1,!1,1),String);e=function(t,e){return!w.contains(r,e)}}return w.pick(t,e,n)},w.defaults=x(w.allKeys,!0),w.create=function(t,e){var n=C(t);return e&&w.extendOwn(n,e),n},w.clone=function(t){return w.isObject(t)?w.isArray(t)?t.slice():w.extend({},t):t},w.tap=function(t,e){return e(t),t},w.isMatch=function(t,e){var n=w.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;r>s;s++){var o=n[s];if(e[o]!==i[o]||!(o in i))return!1}return!0};var U=function W(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof w&&(t=t._wrapped),e instanceof w&&(e=e._wrapped);var i=p.call(t);if(i!==p.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===i;if(!s){if("object"!=("undefined"==typeof t?"undefined":_typeof(t))||"object"!=("undefined"==typeof e?"undefined":_typeof(e)))return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(w.isFunction(o)&&o instanceof o&&w.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!W(t[u],e[u],n,r))return!1}else{var c,l=w.keys(t);if(u=l.length,w.keys(e).length!==u)return!1;for(;u--;)if(c=l[u],!w.has(e,c)||!W(t[c],e[c],n,r))return!1}return n.pop(),r.pop(),!0};w.isEqual=function(t,e){return U(t,e)},w.isEmpty=function(t){return null==t?!0:j(t)&&(w.isArray(t)||w.isString(t)||w.isArguments(t))?0===t.length:0===w.keys(t).length},w.isElement=function(t){return!(!t||1!==t.nodeType)},w.isArray=m||function(t){return"[object Array]"===p.call(t)},w.isObject=function(t){var e="undefined"==typeof t?"undefined":_typeof(t);return"function"===e||"object"===e&&!!t},w.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){w["is"+t]=function(e){return p.call(e)==="[object "+t+"]"}}),w.isArguments(arguments)||(w.isArguments=function(t){return w.has(t,"callee")}),"function"!=typeof/./&&"object"!=("undefined"==typeof Int8Array?"undefined":_typeof(Int8Array))&&(w.isFunction=function(t){return"function"==typeof t||!1}),w.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},w.isNaN=function(t){return w.isNumber(t)&&t!==+t},w.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===p.call(t)},w.isNull=function(t){return null===t},w.isUndefined=function(t){return void 0===t},w.has=function(t,e){return null!=t&&_.call(t,e)},w.noConflict=function(){return a._=u,this},w.identity=function(t){return t},w.constant=function(t){return function(){return t}},w.noop=function(){},w.property=T,w.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},w.matcher=w.matches=function(t){return t=w.extendOwn({},t),function(e){return w.isMatch(e,t)}},w.times=function(t,e,n){var r=Array(Math.max(0,t));e=A(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},w.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},w.now=Date.now||function(){return(new Date).getTime()};var D={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=w.invert(D),L=function(t){var e=function(e){return t[e]},n="(?:"+w.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};w.escape=L(D),w.unescape=L(q),w.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),w.isFunction(r)?r.call(t):r};var M=0;w.uniqueId=function(t){var e=++M+"";return t?t+e:e},w.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var $=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,V=function(t){return"\\"+F[t]};w.template=function(t,e,n){!e&&n&&(e=n),e=w.defaults({},e,w.templateSettings);var r=RegExp([(e.escape||$).source,(e.interpolate||$).source,(e.evaluate||$).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(e,n,r,o,a){return s+=t.slice(i,a).replace(B,V),i=a+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(s+="';\n"+o+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var o=new Function(e.variable||"obj","_",s)}catch(a){throw a.source=s,a}var u=function(t){return o.call(this,t,w)},c=e.variable||"obj";return u.source="function("+c+"){\n"+s+"}",u},w.chain=function(t){var e=w(t);return e._chain=!0,e};var z=function(t,e){return t._chain?w(e).chain():e};w.mixin=function(t){w.each(w.functions(t),function(e){var n=w[e]=t[e];w.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),z(this,n.apply(w,t))}})},w.mixin(w),w.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];w.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),w.each(["concat","join","slice"],function(t){var e=c[t];w.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),w.prototype.value=function(){return this._wrapped},w.prototype.valueOf=w.prototype.toJSON=w.prototype.value,w.prototype.toString=function(){return""+this._wrapped},"function"==typeof t&&t.amd&&t("underscore",[],function(){return w})}).call(this)},{}],18:[function(t,e,n){var r=t("underscore");e.exports=function(t){var e="*";t.ACL=function(e){var n=this;if(n.permissionsById={},r.isObject(e))if(e instanceof t.User)n.setReadAccess(e,!0),n.setWriteAccess(e,!0);else{if(r.isFunction(e))throw"AV.ACL() called with a function.  Did you forget ()?";t._objectEach(e,function(e,i){if(!r.isString(i))throw"Tried to create an ACL with an invalid userId.";n.permissionsById[i]={},t._objectEach(e,function(t,e){if("read"!==e&&"write"!==e)throw"Tried to create an ACL with an invalid permission type.";if(!r.isBoolean(t))throw"Tried to create an ACL with an invalid permission value.";n.permissionsById[i][e]=t})})}},t.ACL.prototype.toJSON=function(){return r.clone(this.permissionsById)},t.ACL.prototype._setAccess=function(e,n,i){if(n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName()),!r.isString(n))throw"userId must be a string.";if(!r.isBoolean(i))throw"allowed must be either true or false.";var s=this.permissionsById[n];if(!s){if(!i)return;s={},this.permissionsById[n]=s}i?this.permissionsById[n][e]=!0:(delete s[e],r.isEmpty(s)&&delete s[n])},t.ACL.prototype._getAccess=function(e,n){n instanceof t.User?n=n.id:n instanceof t.Role&&(n="role:"+n.getName());var r=this.permissionsById[n];return!(!r||!r[e])},t.ACL.prototype.setReadAccess=function(t,e){this._setAccess("read",t,e)},t.ACL.prototype.getReadAccess=function(t){return this._getAccess("read",t)},t.ACL.prototype.setWriteAccess=function(t,e){this._setAccess("write",t,e)},t.ACL.prototype.getWriteAccess=function(t){return this._getAccess("write",t)},t.ACL.prototype.setPublicReadAccess=function(t){this.setReadAccess(e,t)},t.ACL.prototype.getPublicReadAccess=function(){return this.getReadAccess(e)},t.ACL.prototype.setPublicWriteAccess=function(t){this.setWriteAccess(e,t)},t.ACL.prototype.getPublicWriteAccess=function(){return this.getWriteAccess(e)},t.ACL.prototype.getRoleReadAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return this.getReadAccess("role:"+e);throw"role must be a AV.Role or a String"},t.ACL.prototype.getRoleWriteAccess=function(e){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return this.getWriteAccess("role:"+e);throw"role must be a AV.Role or a String"},t.ACL.prototype.setRoleReadAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return void this.setReadAccess("role:"+e,n);throw"role must be a AV.Role or a String"},t.ACL.prototype.setRoleWriteAccess=function(e,n){if(e instanceof t.Role&&(e=e.getName()),r.isString(e))return void this.setWriteAccess("role:"+e,n);throw"role must be a AV.Role or a String"}}},{underscore:17}],19:[function(t,e,n){var r=e.exports={};r._=t("underscore"),r.version=t("./version"),r.Promise=t("./promise"),r.localStorage=t("./localstorage"),r.Cache=t("./cache"),r._config=r._config||{},t("./utils").init(r),t("./event")(r),t("./geopoint")(r),t("./acl")(r),t("./op")(r),t("./relation")(r),t("./file")(r),t("./object")(r),t("./role")(r),t("./user")(r),t("./query")(r),t("./cloudfunction")(r),t("./push")(r),t("./status")(r),t("./search")(r),t("./insight")(r);var i=t("./error");r.Error=function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];console.warn("AV.Error() is deprecated, and will be removed in next release."),new(Function.prototype.bind.apply(i,[null].concat(e)))}},{"./acl":18,"./cache":22,"./cloudfunction":23,"./error":24,"./event":25,"./file":26,"./geopoint":27,"./insight":28,"./localstorage":29,"./object":30,"./op":31,"./promise":32,"./push":33,"./query":34,"./relation":35,"./role":37,"./search":38,"./status":39,"./user":42,"./utils":43,"./version":44,underscore:17}],20:[function(t,e,n){(function(n){var r=t("underscore"),i=t("../promise"),s={},o=["getItem","setItem","removeItem","clear"];if(n.localStorage){var a=n.localStorage;try{var u="__storejs__";if(a.setItem(u,u),a.getItem(u)!=u)throw new Error;a.removeItem(u)}catch(c){a=t("localstorage-memory")}r(o).each(function(t){s[t]=function(){return n.localStorage[t].apply(n.localStorage,arguments)}}),s.async=!1}else{var l=t("react-native").AsyncStorage;r(o).each(function(t){s[t+"Async"]=function(){return i.as(l[t].apply(l,arguments))}}),s.async=!0}e.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../promise":32,"localstorage-memory":7,"react-native":1,underscore:17}],21:[function(t,e,n){var r=function(t,e){var n;n=t.indexOf("base64")<0?atob(t):t.split(",")[0].indexOf("base64")>=0?atob(t.split(",")[1]):unescape(t.split(",")[1]);for(var r=e||t.split(",")[0].split(":")[1].split(";")[0],i=new Uint8Array(n.length),s=0;s<n.length;s++)i[s]=n.charCodeAt(s);return new Blob([i],{type:r})};e.exports=r},{}],22:[function(t,e,n){var r=t("./localstorage"),i=t("./av"),s=n.remove=r.removeItemAsync.bind(r);n.get=function(t){return r.getItemAsync(i.applicationId+"/"+t).then(function(e){try{e=JSON.parse(e)}catch(n){return null}if(e){var r=e.expiredAt&&e.expiredAt<Date.now();return r?s(t).then(function(){return null}):e.value}return null})},n.set=function(t,e,n){var s={value:e};return"number"==typeof n&&(s.expiredAt=Date.now()+n),r.setItemAsync(i.applicationId+"/"+t,JSON.stringify(s))}},{"./av":19,"./localstorage":29}],23:[function(t,e,n){var r=t("underscore"),i=t("./request").request;e.exports=function(t){t.Cloud=t.Cloud||{},r.extend(t.Cloud,{run:function(e,n,r){var s=i("functions",e,null,"POST",t._encode(n,null,!0),r&&r.sessionToken);return s.then(function(e){return t._decode(null,e).result})._thenRunCallbacks(r)},rpc:function(e,n,s){return r.isArray(n)?t.Promise.error(new Error("Can't pass Array as the param of rpc function in JavaScript SDK."))._thenRunCallbacks(s):i("call",e,null,"POST",t._encodeObjectOrArray(n),s&&s.sessionToken).then(function(e){return t._decode("",e).result})._thenRunCallbacks(s)},getServerDate:function(e){var n=i("date",null,null,"GET");return n.then(function(e){return t._decode(null,e)})._thenRunCallbacks(e)},requestSmsCode:function(t,e){if(r.isString(t)&&(t={mobilePhoneNumber:t}),!t.mobilePhoneNumber)throw"Missing mobilePhoneNumber.";var n=i("requestSmsCode",null,null,"POST",t);return n._thenRunCallbacks(e)},verifySmsCode:function(t,e,n){if(!t)throw"Missing sms code.";var s={};r.isString(e)?s.mobilePhoneNumber=e:n=e;var o=i("verifySmsCode",t,null,"POST",s);return o._thenRunCallbacks(n)}})}},{"./request":36,underscore:17}],24:[function(t,e,n){function r(t,e){this.code=t,this.message=e}var i=t("underscore");i.extend(r,{OTHER_CAUSE:-1,INTERNAL_SERVER_ERROR:1,CONNECTION_FAILED:100,OBJECT_NOT_FOUND:101,INVALID_QUERY:102,INVALID_CLASS_NAME:103,MISSING_OBJECT_ID:104,INVALID_KEY_NAME:105,INVALID_POINTER:106,INVALID_JSON:107,COMMAND_UNAVAILABLE:108,NOT_INITIALIZED:109,INCORRECT_TYPE:111,INVALID_CHANNEL_NAME:112,PUSH_MISCONFIGURED:115,OBJECT_TOO_LARGE:116,OPERATION_FORBIDDEN:119,CACHE_MISS:120,INVALID_NESTED_KEY:121,INVALID_FILE_NAME:122,INVALID_ACL:123,TIMEOUT:124,INVALID_EMAIL_ADDRESS:125,MISSING_CONTENT_TYPE:126,MISSING_CONTENT_LENGTH:127,INVALID_CONTENT_LENGTH:128,FILE_TOO_LARGE:129,FILE_SAVE_ERROR:130,FILE_DELETE_ERROR:153,DUPLICATE_VALUE:137,INVALID_ROLE_NAME:139,EXCEEDED_QUOTA:140,SCRIPT_FAILED:141,VALIDATION_ERROR:142,INVALID_IMAGE_DATA:150,UNSAVED_FILE_ERROR:151,INVALID_PUSH_TIME_ERROR:152,USERNAME_MISSING:200,PASSWORD_MISSING:201,USERNAME_TAKEN:202,EMAIL_TAKEN:203,EMAIL_MISSING:204,EMAIL_NOT_FOUND:205,SESSION_MISSING:206,MUST_CREATE_USER_THROUGH_SIGNUP:207,ACCOUNT_ALREADY_LINKED:208,LINKED_ID_MISSING:250,INVALID_LINKED_SESSION:251,UNSUPPORTED_SERVICE:252,X_DOMAIN_REQUEST:602}),e.exports=r},{underscore:17}],25:[function(t,e,n){e.exports=function(t){var e=/\s+/,n=Array.prototype.slice;t.Events={on:function(t,n,r){var i,s,o,a,u;if(!n)return this;for(t=t.split(e),i=this._callbacks||(this._callbacks={}),s=t.shift();s;)u=i[s],o=u?u.tail:{},o.next=a={},o.context=r,o.callback=n,i[s]={tail:a,next:u?u.next:o},s=t.shift();return this},off:function(t,n,r){var i,s,o,a,u,c;if(s=this._callbacks){if(!(t||n||r))return delete this._callbacks,this;for(t=t?t.split(e):_.keys(s),i=t.shift();i;)if(o=s[i],delete s[i],o&&(n||r)){for(a=o.tail,o=o.next;o!==a;)u=o.callback,c=o.context,(n&&u!==n||r&&c!==r)&&this.on(i,u,c),o=o.next;i=t.shift()}return this}},trigger:function(t){var r,i,s,o,a,u,c;if(!(s=this._callbacks))return this;for(u=s.all,t=t.split(e),c=n.call(arguments,1),r=t.shift();r;){if(i=s[r])for(o=i.tail;(i=i.next)!==o;)i.callback.apply(i.context||this,c);if(i=u)for(o=i.tail,a=[r].concat(c);(i=i.next)!==o;)i.callback.apply(i.context||this,a);r=t.shift()}return this}},t.Events.bind=t.Events.on,t.Events.unbind=t.Events.off}},{}],26:[function(t,e,n){(function(n){var r=t("underscore"),i=t("./uploader/cos"),s=t("./uploader/qiniu"),o=t("./error"),a=t("./request").request;e.exports=function(e){var u=e._config,c=function(t){return t.match(/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/)[4]},l=function(t){if(26>t)return String.fromCharCode(65+t);if(52>t)return String.fromCharCode(97+(t-26));if(62>t)return String.fromCharCode(48+(t-52));if(62===t)return"+";if(63===t)return"/";throw new Error("Tried to encode large digit "+t+" in base64.")},h=function(t){var e=[];return e.length=Math.ceil(t.length/3),r.times(e.length,function(n){var r=t[3*n],i=t[3*n+1]||0,s=t[3*n+2]||0,o=3*n+1<t.length,a=3*n+2<t.length;e[n]=[l(r>>2&63),l(r<<4&48|i>>4&15),o?l(i<<2&60|s>>6&3):"=",a?l(63&s):"="].join("")}),e.join("")},f=function(t){return t.split(",")[0]&&t.split(",")[0].indexOf("base64")>=0&&(t=t.split(",")[1]),t},d=function(){return"cn"===u.region},p={ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",asc:"text/plain",atom:"application/atom+xml",au:"audio/basic",avi:"video/x-msvideo",bcpio:"application/x-bcpio",bin:"application/octet-stream",bmp:"image/bmp",cdf:"application/x-netcdf",cgm:"image/cgm","class":"application/octet-stream",cpio:"application/x-cpio",cpt:"application/mac-compactpro",csh:"application/x-csh",css:"text/css",dcr:"application/x-director",dif:"video/x-dv",dir:"application/x-director",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/octet-stream",dmg:"application/octet-stream",dms:"application/octet-stream",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",docm:"application/vnd.ms-word.document.macroEnabled.12",dotm:"application/vnd.ms-word.template.macroEnabled.12",dtd:"application/xml-dtd",dv:"video/x-dv",dvi:"application/x-dvi",dxr:"application/x-director",eps:"application/postscript",etx:"text/x-setext",exe:"application/octet-stream",ez:"application/andrew-inset",gif:"image/gif",gram:"application/srgs",grxml:"application/srgs+xml",gtar:"application/x-gtar",hdf:"application/x-hdf",hqx:"application/mac-binhex40",htm:"text/html",html:"text/html",ice:"x-conference/x-cooltalk",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",iges:"model/iges",igs:"model/iges",jnlp:"application/x-java-jnlp-file",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",kar:"audio/midi",latex:"application/x-latex",lha:"application/octet-stream",lzh:"application/octet-stream",m3u:"audio/x-mpegurl",m4a:"audio/mp4a-latm",m4b:"audio/mp4a-latm",m4p:"audio/mp4a-latm",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",mac:"image/x-macpaint",man:"application/x-troff-man",mathml:"application/mathml+xml",me:"application/x-troff-me",mesh:"model/mesh",mid:"audio/midi",midi:"audio/midi",mif:"application/vnd.mif",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",ms:"application/x-troff-ms",msh:"model/mesh",mxu:"video/vnd.mpegurl",nc:"application/x-netcdf",oda:"application/oda",ogg:"application/ogg",pbm:"image/x-portable-bitmap",pct:"image/pict",pdb:"chemical/x-pdb",pdf:"application/pdf",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pic:"image/pict",pict:"image/pict",png:"image/png",pnm:"image/x-portable-anymap",pnt:"image/x-macpaint",pntg:"image/x-macpaint",ppm:"image/x-portable-pixmap",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppam:"application/vnd.ms-powerpoint.addin.macroEnabled.12",pptm:"application/vnd.ms-powerpoint.presentation.macroEnabled.12",potm:"application/vnd.ms-powerpoint.template.macroEnabled.12",ppsm:"application/vnd.ms-powerpoint.slideshow.macroEnabled.12",ps:"application/postscript",qt:"video/quicktime",qti:"image/x-quicktime",qtif:"image/x-quicktime",ra:"audio/x-pn-realaudio",ram:"audio/x-pn-realaudio",ras:"image/x-cmu-raster",rdf:"application/rdf+xml",rgb:"image/x-rgb",rm:"application/vnd.rn-realmedia",roff:"application/x-troff",rtf:"text/rtf",rtx:"text/richtext",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",silo:"model/mesh",sit:"application/x-stuffit",skd:"application/x-koan",skm:"application/x-koan",skp:"application/x-koan",skt:"application/x-koan",smi:"application/smil",smil:"application/smil",snd:"audio/basic",so:"application/octet-stream",spl:"application/x-futuresplash",src:"application/x-wais-source",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svg:"image/svg+xml",swf:"application/x-shockwave-flash",t:"application/x-troff",tar:"application/x-tar",tcl:"application/x-tcl",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",tif:"image/tiff",tiff:"image/tiff",tr:"application/x-troff",tsv:"text/tab-separated-values",txt:"text/plain",ustar:"application/x-ustar",vcd:"application/x-cdlink",vrml:"model/vrml",vxml:"application/voicexml+xml",wav:"audio/x-wav",wbmp:"image/vnd.wap.wbmp",wbmxl:"application/vnd.wap.wbxml",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wrl:"model/vrml",xbm:"image/x-xbitmap",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xls:"application/vnd.ms-excel",
xml:"application/xml",xpm:"image/x-xpixmap",xsl:"application/xml",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.12",xltm:"application/vnd.ms-excel.template.macroEnabled.12",xlam:"application/vnd.ms-excel.addin.macroEnabled.12",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.12",xslt:"application/xslt+xml",xul:"application/vnd.mozilla.xul+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",zip:"application/zip"},_=function(t,r){var i=new e.Promise;if("undefined"==typeof FileReader)return e.Promise.error(new o(-1,"Attempted to use a FileReader on an unsupported browser."));var s=new n.FileReader;return s.onloadend=function(){if(2!==s.readyState)return void i.reject(new o(-1,"Error reading file."));var t=s.result,e=/^data:([^;]*);base64,(.*)$/.exec(t);return e?void i.resolve(e[2],r||e[1]):void i.reject(new o(-1,"Unable to interpret data URL: "+t))},s.readAsDataURL(t),i};e.File=function(i,s,o){this.attributes={name:i,url:"",metaData:{},base64:""};var a=void 0;if(s&&s.owner)a=s.owner;else if(!e._config.disableCurrentUser)try{a=e.User.current()}catch(u){console.warn("Get current user failed. It seems this runtime use an async storage system, please new AV.File in the callback of AV.User.currentAsync().")}this.attributes.metaData={owner:a?a.id:"unknown"};var c=/\.([^.]*)$/.exec(i);c&&(c=c[1].toLowerCase());var l=o||p[c]||"text/plain";if(this._guessedType=l,r.isArray(s)&&(this.attributes.metaData.size=s.length,s={base64:h(s)}),s&&s.base64){var d=t("./browserify-wrapper/parse-base64"),_=d(s.base64,l);this.attributes.base64=f(s.base64),this._source=e.Promise.as(_,l)}else if(s&&s.blob)s.blob.type||(s.blob.type=l),this._source=e.Promise.as(s.blob,l);else if("undefined"!=typeof File&&s instanceof n.File)this._source=e.Promise.as(s,l);else if("undefined"!=typeof n.Buffer&&n.Buffer.isBuffer(s))this.attributes.metaData.size=s.length,this._source=e.Promise.as(s,l);else if(r.isString(s))throw new Error("Creating a AV.File from a String is not yet supported.")},e.File.withURL=function(t,n,r,i){if(!t||!n)throw"Please provide file name and url";var s=new e.File(t,null,i);if(r)for(var o in r)s.attributes.metaData[o]||(s.attributes.metaData[o]=r[o]);return s.attributes.url=n,s.attributes.metaData.__source="external",s},e.File.createWithoutData=function(t){var n=new e.File;return n.id=t,n},e.File.prototype={toJSON:function(){return e._encode(this)},getACL:function(){return this._acl},setACL:function(t){return t instanceof e.ACL?void(this._acl=t):new o(o.OTHER_CAUSE,"ACL must be a AV.ACL.")},name:function(){return this.get("name")},url:function(){return this.get("url")},get:function(t){switch(t){case"objectId":return this.id;default:return void 0===this.attributes[t]?this.attributes.metaData[t]:this.attributes[t]}},set:function m(){var t=this,m=function(e,n){switch(e){case"name":case"url":case"base64":case"metaData":t.attributes[e]=n;break;default:t.attributes.metaData[e]=n}};switch(arguments.length){case 1:for(var e in arguments.length<=0?void 0:arguments[0])m(e,(arguments.length<=0?void 0:arguments[0])[e]);break;case 2:m(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])}},metaData:function(t,e){return t&&e?(this.attributes.metaData[t]=e,this):t&&!e?this.attributes.metaData[t]:this.attributes.metaData},thumbnailURL:function(t,e,n,r,i){var s=this.attributes.url;if(!s)throw new Error("Invalid url.");if(!t||!e||0>=t||0>=e)throw new Error("Invalid width or height value.");if(n=n||100,r=r?r:!0,0>=n||n>100)throw new Error("Invalid quality value.");i=i||"png";var o=r?2:1;return s+"?imageView/"+o+"/w/"+t+"/h/"+e+"/q/"+n+"/format/"+i},size:function(){return this.metaData().size},ownerId:function(){return this.metaData().owner},destroy:function(t){if(!this.id)return e.Promise.error("The file id is not eixsts.")._thenRunCallbacks(t);var n=a("files",null,this.id,"DELETE",t&&t.sessionToken);return n._thenRunCallbacks(t)},_fileToken:function(t){var e=arguments.length<=1||void 0===arguments[1]?"fileTokens":arguments[1],n=this.attributes.name,r=c(n),i=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},s=i()+i()+i()+i()+i()+r,o={key:s,ACL:this._acl,name:n,mime_type:t,metaData:this.attributes.metaData};return t&&!this.attributes.metaData.mime_type&&(this.attributes.metaData.mime_type=t),this._qiniu_key=s,a(e,null,null,"POST",o)},save:function(){var t=this;if(this.id)throw new Error("File already saved. If you want to manipulate a file, use AV.Query to get it.");var e=void 0,r={};switch(arguments.length){case 1:e=arguments.length<=0?void 0:arguments[0];break;case 2:r=arguments.length<=0?void 0:arguments[0],e=arguments.length<=1?void 0:arguments[1]}if(!this._previousSave){var o=d();if(this._source&&o)this._previousSave=this._source.then(function(e,n){return t._fileToken(n)["catch"](function(){return t._fileToken(n,"qiniu")}).then(function(n){var o=void 0;return o="qcloud"===n.provider?i(n,e,t,r):s(n,e,t,r),o["catch"](function(e){throw t.destroy(),e})})});else if(this.attributes.url&&"external"===this.attributes.metaData.__source){var u={name:this.attributes.name,ACL:this._acl,metaData:this.attributes.metaData,mime_type:this._guessedType,url:this.attributes.url};this._previousSave=a("files",this.attributes.name,null,"post",u).then(function(e){return t.attributes.name=e.name,t.attributes.url=e.url,t.id=e.objectId,e.size&&(t.attributes.metaData.size=e.size),t})}else o||(this._previousSave=this._source.then(function(e,r){var i={base64:"",_ContentType:r,ACL:t._acl,mime_type:r,metaData:t.attributes.metaData};return t.attributes.base64?(i.base64=t.attributes.base64,a("files",t.attributes.name,null,"POST",i)):"undefined"!=typeof n.Buffer&&n.Buffer.isBuffer(e)?(i.base64=e.toString("base64"),a("files",t.attributes.name,null,"POST",i)):_(e).then(function(t){return i.base64=t,a("files",this.attributes.name,null,"POST",i)})}).then(function(e){return t.attributes.name=e.name,t.attributes.url=e.url,t.id=e.objectId,e.size&&(t.attributes.metaData.size=e.size),t}))}return this._previousSave._thenRunCallbacks(e)},fetch:function(){var t=this,n=null,i={};1===arguments.length?n=arguments[0]:2===arguments.length&&(i=arguments[0],n=arguments[1]);var s=a("files",null,this.id,"GET",i);return s.then(function(n){var i=e.Object.prototype.parse(n);return i.attributes={name:i.name,url:i.url},i.attributes.metaData=i.metaData||{},delete i.objectId,delete i.metaData,delete i.url,delete i.name,r.extend(t,i),t})._thenRunCallbacks(n)}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browserify-wrapper/parse-base64":21,"./error":24,"./request":36,"./uploader/cos":40,"./uploader/qiniu":41,underscore:17}],27:[function(t,e,n){var r=t("underscore");e.exports=function(t){t.GeoPoint=function(e,n){r.isArray(e)?(t.GeoPoint._validate(e[0],e[1]),this.latitude=e[0],this.longitude=e[1]):r.isObject(e)?(t.GeoPoint._validate(e.latitude,e.longitude),this.latitude=e.latitude,this.longitude=e.longitude):r.isNumber(e)&&r.isNumber(n)?(t.GeoPoint._validate(e,n),this.latitude=e,this.longitude=n):(this.latitude=0,this.longitude=0);var i=this;this.__defineGetter__&&this.__defineSetter__&&(this._latitude=this.latitude,this._longitude=this.longitude,this.__defineGetter__("latitude",function(){return i._latitude}),this.__defineGetter__("longitude",function(){return i._longitude}),this.__defineSetter__("latitude",function(e){t.GeoPoint._validate(e,i.longitude),i._latitude=e}),this.__defineSetter__("longitude",function(e){t.GeoPoint._validate(i.latitude,e),i._longitude=e}))},t.GeoPoint._validate=function(t,e){if(-90>t)throw"AV.GeoPoint latitude "+t+" < -90.0.";if(t>90)throw"AV.GeoPoint latitude "+t+" > 90.0.";if(-180>e)throw"AV.GeoPoint longitude "+e+" < -180.0.";if(e>180)throw"AV.GeoPoint longitude "+e+" > 180.0."},t.GeoPoint.current=function(e){var n=new t.Promise;return navigator.geolocation.getCurrentPosition(function(e){n.resolve(new t.GeoPoint({latitude:e.coords.latitude,longitude:e.coords.longitude}))},function(t){n.reject(t)}),n._thenRunCallbacks(e)},t.GeoPoint.prototype={toJSON:function(){return t.GeoPoint._validate(this.latitude,this.longitude),{__type:"GeoPoint",latitude:this.latitude,longitude:this.longitude}},radiansTo:function(t){var e=Math.PI/180,n=this.latitude*e,r=this.longitude*e,i=t.latitude*e,s=t.longitude*e,o=n-i,a=r-s,u=Math.sin(o/2),c=Math.sin(a/2),l=u*u+Math.cos(n)*Math.cos(i)*c*c;return l=Math.min(1,l),2*Math.asin(Math.sqrt(l))},kilometersTo:function(t){return 6371*this.radiansTo(t)},milesTo:function(t){return 3958.8*this.radiansTo(t)}}}},{underscore:17}],28:[function(t,e,n){var r=t("underscore"),i=t("./error"),s=t("./request").request;e.exports=function(t){t.Insight=t.Insight||{},r.extend(t.Insight,{startJob:function(e,n){if(!e||!e.sql)throw new Error("Please provide the sql to run the job.");var r={jobConfig:e,appId:t.applicationId},i=s("bigquery","jobs",null,"POST",t._encode(r,null,!0));return i.then(function(e){return t._decode(null,e).id})._thenRunCallbacks(n)},on:function(t,e){}}),t.Insight.JobQuery=function(t,e){if(!t)throw new Error("Please provide the job id.");this.id=t,this.className=e,this._skip=0,this._limit=100},t.Insight.JobQuery.prototype={skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},find:function(e){var n={skip:this._skip,limit:this._limit},r=s("bigquery","jobs",this.id,"GET",n);return r.then(function(e){return e.error?t.Promise.error(new i(e.code,e.error)):t.Promise.as(e)})._thenRunCallbacks(e)}}}},{"./error":24,"./request":36,underscore:17}],29:[function(t,e,n){var r=t("underscore"),i=t("./promise"),s=t("./browserify-wrapper/localStorage"),o=["getItem","setItem","removeItem","clear"];s.async?r(o).each(function(t){"function"!=typeof s[t]&&(s[t]=function(){throw new Error("Synchronous API ["+t+"] is not available in this runtime.")})}):r(o).each(function(t){"function"==typeof s[t]&&(s[t+"Async"]=function(){return i.as(s[t].apply(s,arguments))})}),e.exports=s},{"./browserify-wrapper/localStorage":20,"./promise":32,underscore:17}],30:[function(t,e,n){var r=t("underscore"),i=t("./error"),s=t("./request").request,o=t("./utils");e.exports=function(t){t.Object=function(e,n){if(r.isString(e))return t.Object._create.apply(this,arguments);e=e||{},n&&n.parse&&(e=this.parse(e));var i=t._getValue(this,"defaults");if(i&&(e=r.extend({},i,e)),n&&n.collection&&(this.collection=n.collection),this._serverData={},this._opSetQueue=[{}],this.attributes={},this._hashedJSON={},this._escapedAttributes={},this.cid=r.uniqueId("c"),this.changed={},this._silent={},this._pending={},!this.set(e,{silent:!0}))throw new Error("Can't create an invalid AV.Object");this.changed={},this._silent={},this._pending={},this._hasData=!0,this._previousAttributes=r.clone(this.attributes),this.initialize.apply(this,arguments)},t.Object.saveAll=function(e,n){return t.Object._deepSaveAsync(e,null,n)._thenRunCallbacks(n)},r.extend(t.Object.prototype,t.Events,{_fetchWhenSave:!1,initialize:function(){},fetchWhenSave:function(t){if(console.warn("AV.Object#fetchWhenSave is deprecated, use AV.Object#save with options.fetchWhenSave instead."),!r.isBoolean(t))throw"Expect boolean value for fetchWhenSave";this._fetchWhenSave=t},getObjectId:function(){return this.id},getCreatedAt:function(){return this.createdAt||this.get("createdAt")},getUpdatedAt:function(){return this.updatedAt||this.get("updatedAt")},toJSON:function(){var e=this._toFullJSON();return t._arrayEach(["__type","className"],function(t){delete e[t]}),e},_toFullJSON:function(e){var n=r.clone(this.attributes);return t._objectEach(n,function(r,i){n[i]=t._encode(r,e)}),t._objectEach(this._operations,function(t,e){n[e]=t}),r.has(this,"id")&&(n.objectId=this.id),r.has(this,"createdAt")&&(r.isDate(this.createdAt)?n.createdAt=this.createdAt.toJSON():n.createdAt=this.createdAt),r.has(this,"updatedAt")&&(r.isDate(this.updatedAt)?n.updatedAt=this.updatedAt.toJSON():n.updatedAt=this.updatedAt),n.__type="Object",n.className=this.className,n},_refreshCache:function(){var e=this;e._refreshingCache||(e._refreshingCache=!0,t._objectEach(this.attributes,function(n,i){n instanceof t.Object?n._refreshCache():r.isObject(n)&&e._resetCacheForKey(i)&&e.set(i,new t.Op.Set(n),{silent:!0})}),delete e._refreshingCache)},dirty:function(t){this._refreshCache();var e=r.last(this._opSetQueue);return t?!!e[t]:this.id?r.keys(e).length>0:!0},_toPointer:function(){return{__type:"Pointer",className:this.className,objectId:this.id}},get:function(t){switch(t){case"objectId":return this.id;default:return void 0===this.attributes[t]?this[t]:this.attributes[t]}},relation:function(e){var n=this.get(e);if(n){if(!(n instanceof t.Relation))throw"Called relation() on non-relation field "+e;return n._ensureParentAndKey(this,e),n}return new t.Relation(this,e)},escape:function(t){var e=this._escapedAttributes[t];if(e)return e;var n,i=this.attributes[t];return n=o.isNullOrUndefined(i)?"":r.escape(i.toString()),this._escapedAttributes[t]=n,n},has:function(t){return!o.isNullOrUndefined(this.attributes[t])},_mergeMagicFields:function(e){var n=this,i=["id","objectId","createdAt","updatedAt"];t._arrayEach(i,function(i){e[i]&&("objectId"===i?n.id=e[i]:"createdAt"!==i&&"updatedAt"!==i||r.isDate(e[i])?n[i]=e[i]:n[i]=t._parseDate(e[i]),delete e[i])})},_startSave:function(){this._opSetQueue.push({})},_cancelSave:function(){var e=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue);var n=r.first(this._opSetQueue);t._objectEach(e,function(t,r){var i=e[r],s=n[r];i&&s?n[r]=s._mergeWithPrevious(i):i&&(n[r]=i)}),this._saving=this._saving-1},_finishSave:function(e){var n={};t._traverse(this.attributes,function(e){e instanceof t.Object&&e.id&&e._hasData&&(n[e.id]=e)});var i=r.first(this._opSetQueue);this._opSetQueue=r.rest(this._opSetQueue),this._applyOpSet(i,this._serverData),this._mergeMagicFields(e);var s=this;t._objectEach(e,function(e,r){s._serverData[r]=t._decode(r,e);var i=t._traverse(s._serverData[r],function(e){return e instanceof t.Object&&n[e.id]?n[e.id]:void 0});i&&(s._serverData[r]=i)}),this._rebuildAllEstimatedData(),this._saving=this._saving-1},_finishFetch:function(e,n){this._opSetQueue=[{}],this._mergeMagicFields(e);var r=this;t._objectEach(e,function(e,n){r._serverData[n]=t._decode(n,e)}),this._rebuildAllEstimatedData(),this._refreshCache(),this._opSetQueue=[{}],this._hasData=n},_applyOpSet:function(e,n){var r=this;t._objectEach(e,function(e,i){n[i]=e._estimate(n[i],r,i),n[i]===t.Op._UNSET&&delete n[i]})},_resetCacheForKey:function(e){var n=this.attributes[e];if(r.isObject(n)&&!(n instanceof t.Object)&&!(n instanceof t.File)){n=n.toJSON?n.toJSON():n;var i=JSON.stringify(n);if(this._hashedJSON[e]!==i){var s=!!this._hashedJSON[e];return this._hashedJSON[e]=i,s}}return!1},_rebuildEstimatedDataForKey:function(e){var n=this;delete this.attributes[e],this._serverData[e]&&(this.attributes[e]=this._serverData[e]),t._arrayEach(this._opSetQueue,function(r){var i=r[e];i&&(n.attributes[e]=i._estimate(n.attributes[e],n,e),n.attributes[e]===t.Op._UNSET?delete n.attributes[e]:n._resetCacheForKey(e))})},_rebuildAllEstimatedData:function(){var e=this,n=r.clone(this.attributes);this.attributes=r.clone(this._serverData),t._arrayEach(this._opSetQueue,function(n){e._applyOpSet(n,e.attributes),t._objectEach(n,function(t,n){e._resetCacheForKey(n)})}),t._objectEach(n,function(t,n){e.attributes[n]!==t&&e.trigger("change:"+n,e,e.attributes[n],{})}),t._objectEach(this.attributes,function(t,i){r.has(n,i)||e.trigger("change:"+i,e,t,{})})},set:function(e,n,i){var s;if(r.isObject(e)||o.isNullOrUndefined(e)?(s=e,t._objectEach(s,function(e,n){s[n]=t._decode(n,e)}),i=n):(s={},s[e]=t._decode(e,n)),i=i||{},!s)return this;s instanceof t.Object&&(s=s.attributes),i.unset&&t._objectEach(s,function(e,n){s[n]=new t.Op.Unset});var a=r.clone(s),u=this;if(t._objectEach(a,function(e,n){e instanceof t.Op&&(a[n]=e._estimate(u.attributes[n],u,n),a[n]===t.Op._UNSET&&delete a[n])}),!this._validate(s,i))return!1;this._mergeMagicFields(s),i.changes={};var c=this._escapedAttributes;return this._previousAttributes||{},t._arrayEach(r.keys(s),function(e){var n=s[e];n instanceof t.Relation&&(n.parent=u),n instanceof t.Op||(n=new t.Op.Set(n));var o=!0;n instanceof t.Op.Set&&r.isEqual(u.attributes[e],n.value)&&(o=!1),o&&(delete c[e],i.silent?u._silent[e]=!0:i.changes[e]=!0);var a=r.last(u._opSetQueue);a[e]=n._mergeWithPrevious(a[e]),u._rebuildEstimatedDataForKey(e),o?(u.changed[e]=u.attributes[e],i.silent||(u._pending[e]=!0)):(delete u.changed[e],delete u._pending[e])}),i.silent||this.change(i),this},unset:function(t,e){return e=e||{},e.unset=!0,this.set(t,null,e)},increment:function(e,n){return(r.isUndefined(n)||r.isNull(n))&&(n=1),this.set(e,new t.Op.Increment(n))},add:function(e,n){return this.set(e,new t.Op.Add([n]))},addUnique:function(e,n){return this.set(e,new t.Op.AddUnique([n]))},remove:function(e,n){return this.set(e,new t.Op.Remove([n]))},op:function(t){return r.last(this._opSetQueue)[t]},clear:function(t){t=t||{},t.unset=!0;var e=r.extend(this.attributes,this._operations);return this.set(e,t)},_getSaveJSON:function(){var e=r.clone(r.first(this._opSetQueue));return t._objectEach(e,function(t,n){e[n]=t.toJSON()}),e},_canBeSerialized:function(){return t.Object._canBeSerializedAsValue(this.attributes)},fetch:function(){var t={},e={};1===arguments.length?t=arguments[0]:2===arguments.length&&(e=arguments[0],t=arguments[1]||{}),e&&e.include&&r.isArray(e.include)&&(e.include=e.include.join(","));var n=this,i=s("classes",this.className,this.id,"GET",e,t.sessionToken);return i.then(function(t){return n._finishFetch(n.parse(t),!0),n})._thenRunCallbacks(t,this)},save:function(e,n,i){var a,u,c;if(r.isObject(e)||o.isNullOrUndefined(e)?(a=e,c=n):(a={},a[e]=n,c=i),!c&&a){var l=r.reject(a,function(t,e){return r.include(["success","error","wait"],e)});if(0===l.length){var h=!0;if(r.has(a,"success")&&!r.isFunction(a.success)&&(h=!1),r.has(a,"error")&&!r.isFunction(a.error)&&(h=!1),h)return this.save(null,a)}}c=r.clone(c)||{},c.wait&&(u=r.clone(this.attributes));var f=r.clone(c)||{};f.wait&&(f.silent=!0);var d;if(f.error=function(t,e){d=e},a&&!this.set(a,f))return t.Promise.error(d)._thenRunCallbacks(c,this);var p=this;p._refreshCache();var _=[],m=[];return t.Object._findUnsavedChildren(p.attributes,_,m),_.length+m.length>0?t.Object._deepSaveAsync(this.attributes,p,c).then(function(){return p.save(null,c)},function(e){return t.Promise.error(e)._thenRunCallbacks(c,p)}):(this._startSave(),this._saving=(this._saving||0)+1,this._allPreviousSaves=this._allPreviousSaves||t.Promise.as(),this._allPreviousSaves=this._allPreviousSaves._continueWith(function(){var e=p.id?"PUT":"POST",n=p._getSaveJSON();if(p._fetchWhenSave&&(n._fetchWhenSave=!0),c.fetchWhenSave&&(n._fetchWhenSave=!0),c.query){var i;if("function"==typeof c.query.toJSON&&(i=c.query.toJSON(),i&&(n._where=i.where)),!n._where){var o=new Error("options.query is not an AV.Query");return t.Promise.error(o)._thenRunCallbacks(c,p)}}var l="classes",h=p.className;"_User"!==p.className||p.id||(l="users",h=null);var d=c._makeRequest||s,_=d(l,h,p.id,e,n,c.sessionToken);return _=_.then(function(t){var e=p.parse(t);return c.wait&&(e=r.extend(a||{},e)),p._finishSave(e),c.wait&&p.set(u,f),p},function(e){return p._cancelSave(),t.Promise.error(e)})._thenRunCallbacks(c,p)}),this._allPreviousSaves)},destroy:function(t){t=t||{};var e=this,n=function(){e.trigger("destroy",e,e.collection,t)};if(!this.id)return n();t.wait||n();var r=s("classes",this.className,this.id,"DELETE",null,t.sessionToken);return r.then(function(){return t.wait&&n(),e})._thenRunCallbacks(t,this)},parse:function(e){var n=r.clone(e);return r(["createdAt","updatedAt"]).each(function(e){n[e]&&(n[e]=t._parseDate(n[e]))}),n.updatedAt||(n.updatedAt=n.createdAt),n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.id},change:function(e){e=e||{};var n=this._changing;this._changing=!0;var i=this;t._objectEach(this._silent,function(t){i._pending[t]=!0});var s=r.extend({},e.changes,this._silent);if(this._silent={},t._objectEach(s,function(t,n){i.trigger("change:"+n,i,i.get(n),e)}),n)return this;for(var o=function(t,e){i._pending[e]||i._silent[e]||delete i.changed[e]};!r.isEmpty(this._pending);)this._pending={},this.trigger("change",this,e),t._objectEach(this.changed,o),i._previousAttributes=r.clone(this.attributes);return this._changing=!1,this},existed:function(){return console.warn("AV.Object.prototype.existed() is deprecated."),!1},hasChanged:function(t){return arguments.length?this.changed&&r.has(this.changed,t):!r.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?r.clone(this.changed):!1;var n={},i=this._previousAttributes;return t._objectEach(e,function(t,e){r.isEqual(i[e],t)||(n[e]=t)}),n},previous:function(t){return arguments.length&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return r.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},validate:function(e,n){return!r.has(e,"ACL")||e.ACL instanceof t.ACL?!1:new i(i.OTHER_CAUSE,"ACL must be a AV.ACL.")},_validate:function(t,e){if(e.silent||!this.validate)return!0;t=r.extend({},this.attributes,t);var n=this.validate(t,e);return n?(e&&e.error?e.error(this,n,e):this.trigger("error",this,n,e),!1):!0},getACL:function(){return this.get("ACL")},setACL:function(t,e){return this.set("ACL",t,e)}}),t.Object.createWithoutData=function(e,n,r){var i=new t.Object(e);return i.id=n,i._hasData=r,i},t.Object.destroyAll=function(e,n){if(n=n||{},!e||0===e.length)return t.Promise.as()._thenRunCallbacks(n);var r=e[0].className,i="",o=!0;e.forEach(function(t){if(t.className!=r)throw"AV.Object.destroyAll requires the argument object array's classNames must be the same";if(!t.id)throw"Could not delete unsaved object";o?(i=t.id,o=!1):i=i+","+t.id});var a=s("classes",r,i,"DELETE",null,n.sessionToken);return a._thenRunCallbacks(n)},t.Object._getSubclass=function(e){if(!r.isString(e))throw"AV.Object._getSubclass requires a string argument.";var n=t.Object._classMap[e];return n||(n=t.Object.extend(e),t.Object._classMap[e]=n),n},t.Object._create=function(e,n,r){var i=t.Object._getSubclass(e);return new i(n,r)},t.Object._classMap={},t.Object._extend=t._extend,t.Object["new"]=function(e,n){return new t.Object(e,n)},t.Object.extend=function(e,n,i){if(!r.isString(e)){if(e&&r.has(e,"className"))return t.Object.extend(e.className,e,n);throw new Error("AV.Object.extend's first argument should be the className.")}"User"===e&&(e="_User");var s=null;if(r.has(t.Object._classMap,e)){var o=t.Object._classMap[e];s=o._extend(n,i)}else n=n||{},n.className=e,s=this._extend(n,i);return s.extend=function(n){if(r.isString(n)||n&&r.has(n,"className"))return t.Object.extend.apply(s,arguments);var i=[e].concat(r.toArray(arguments));return t.Object.extend.apply(s,i)},s["new"]=function(t,e){return new s(t,e)},t.Object._classMap[e]=s,s},t.Object._findUnsavedChildren=function(e,n,r){t._traverse(e,function(e){return e instanceof t.Object?(e._refreshCache(),void(e.dirty()&&n.push(e))):e instanceof t.File?void(e.url()||e.id||r.push(e)):void 0})},t.Object._canBeSerializedAsValue=function(e){var n=!0;return e instanceof t.Object||e instanceof t.File?n=!!e.id:r.isArray(e)?t._arrayEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}):r.isObject(e)&&t._objectEach(e,function(e){t.Object._canBeSerializedAsValue(e)||(n=!1)}),n},t.Object._deepSaveAsync=function(e,n,o){var a=[],u=[];t.Object._findUnsavedChildren(e,a,u),n&&(a=r.filter(a,function(t){return t!=n}));var c=t.Promise.as();r.each(u,function(t){c=c.then(function(){return t.save()})});var l=r.uniq(a),h=r.uniq(l);return c.then(function(){return t.Promise._continueWhile(function(){return h.length>0},function(){var e=[],n=[];if(t._arrayEach(h,function(t){return e.length>20?void n.push(t):void(t._canBeSerialized()?e.push(t):n.push(t))}),h=n,0===e.length)return t.Promise.error(new i(i.OTHER_CAUSE,"Tried to save a batch with a cycle."));var a=t.Promise.when(r.map(e,function(e){return e._allPreviousSaves||t.Promise.as()})),u=new t.Promise;return t._arrayEach(e,function(t){t._allPreviousSaves=u}),a._continueWith(function(){return s("batch",null,null,"POST",{requests:r.map(e,function(t){var e=t._getSaveJSON(),n="POST",r="/1.1/classes/"+t.className;return t.id&&(r=r+"/"+t.id,n="PUT"),t._startSave(),{method:n,path:r,body:e}})},o&&o.sessionToken).then(function(n){var r;return t._arrayEach(e,function(t,e){n[e].success?t._finishSave(t.parse(n[e].success)):(r=r||n[e].error,t._cancelSave())}),r?t.Promise.error(new i(r.code,r.error)):void 0}).then(function(t){return u.resolve(t),t},function(e){return u.reject(e),t.Promise.error(e)})})})}).then(function(){return e})}}},{"./error":24,"./request":36,"./utils":43,underscore:17}],31:[function(t,e,n){var r=t("underscore");e.exports=function(t){t.Op=function(){this._initialize.apply(this,arguments)},t.Op.prototype={_initialize:function(){}},r.extend(t.Op,{_extend:t._extend,_opDecoderMap:{},_registerDecoder:function(e,n){t.Op._opDecoderMap[e]=n},_decode:function(e){var n=t.Op._opDecoderMap[e.__op];return n?n(e):void 0}}),t.Op._registerDecoder("Batch",function(e){var n=null;return t._arrayEach(e.ops,function(e){e=t.Op._decode(e),n=e._mergeWithPrevious(n)}),n}),t.Op.Set=t.Op._extend({_initialize:function(t){this._value=t},value:function(){return this._value},toJSON:function(){return t._encode(this.value())},_mergeWithPrevious:function(t){return this},_estimate:function(t){return this.value()}}),t.Op._UNSET={},t.Op.Unset=t.Op._extend({toJSON:function(){return{__op:"Delete"}},_mergeWithPrevious:function(t){return this},_estimate:function(e){return t.Op._UNSET}}),t.Op._registerDecoder("Delete",function(e){return new t.Op.Unset}),t.Op.Increment=t.Op._extend({_initialize:function(t){this._amount=t},amount:function(){return this._amount},toJSON:function(){return{__op:"Increment",amount:this._amount}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.amount());if(e instanceof t.Op.Set)return new t.Op.Set(e.value()+this.amount());if(e instanceof t.Op.Increment)return new t.Op.Increment(this.amount()+e.amount());throw"Op is invalid after previous op."}return this},_estimate:function(t){return t?t+this.amount():this.amount()}}),t.Op._registerDecoder("Increment",function(e){return new t.Op.Increment(e.amount)}),t.Op.Add=t.Op._extend({_initialize:function(t){this._objects=t},objects:function(){return this._objects},toJSON:function(){return{__op:"Add",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Add)return new t.Op.Add(e.objects().concat(this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(t){return t?t.concat(this.objects()):r.clone(this.objects())}}),t.Op._registerDecoder("Add",function(e){return new t.Op.Add(t._decode(void 0,e.objects))}),t.Op.AddUnique=t.Op._extend({_initialize:function(t){this._objects=r.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"AddUnique",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return new t.Op.Set(this.objects());if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.AddUnique)return new t.Op.AddUnique(this._estimate(e.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var n=r.clone(e);return t._arrayEach(this.objects(),function(e){if(e instanceof t.Object&&e.id){var i=r.find(n,function(n){return n instanceof t.Object&&n.id===e.id});if(i){var s=r.indexOf(n,i);n[s]=e}else n.push(e)}else r.contains(n,e)||n.push(e)}),n}return r.clone(this.objects())}}),t.Op._registerDecoder("AddUnique",function(e){return new t.Op.AddUnique(t._decode(void 0,e.objects))}),t.Op.Remove=t.Op._extend({_initialize:function(t){this._objects=r.uniq(t)},objects:function(){return this._objects},toJSON:function(){return{__op:"Remove",objects:t._encode(this.objects())}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)return e;if(e instanceof t.Op.Set)return new t.Op.Set(this._estimate(e.value()));if(e instanceof t.Op.Remove)return new t.Op.Remove(r.union(e.objects(),this.objects()));throw"Op is invalid after previous op."}return this},_estimate:function(e){if(e){var n=r.difference(e,this.objects());return t._arrayEach(this.objects(),function(e){e instanceof t.Object&&e.id&&(n=r.reject(n,function(n){return n instanceof t.Object&&n.id===e.id}))}),n}return[]}}),t.Op._registerDecoder("Remove",function(e){return new t.Op.Remove(t._decode(void 0,e.objects))}),t.Op.Relation=t.Op._extend({_initialize:function(e,n){this._targetClassName=null;var i=this,s=function(e){if(e instanceof t.Object){if(!e.id)throw"You can't add an unsaved AV.Object to a relation.";if(i._targetClassName||(i._targetClassName=e.className),i._targetClassName!==e.className)throw"Tried to create a AV.Relation with 2 different types: "+i._targetClassName+" and "+e.className+".";return e.id}return e};this.relationsToAdd=r.uniq(r.map(e,s)),this.relationsToRemove=r.uniq(r.map(n,s))},added:function(){var e=this;return r.map(this.relationsToAdd,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},removed:function(){var e=this;return r.map(this.relationsToRemove,function(n){var r=t.Object._create(e._targetClassName);return r.id=n,r})},toJSON:function(){var t=null,e=null,n=this,i=function(t){return{__type:"Pointer",className:n._targetClassName,objectId:t}},s=null;return this.relationsToAdd.length>0&&(s=r.map(this.relationsToAdd,i),t={__op:"AddRelation",objects:s}),this.relationsToRemove.length>0&&(s=r.map(this.relationsToRemove,i),e={__op:"RemoveRelation",objects:s}),t&&e?{__op:"Batch",ops:[t,e]}:t||e||{}},_mergeWithPrevious:function(e){if(e){if(e instanceof t.Op.Unset)throw"You can't modify a relation after deleting it.";if(e instanceof t.Op.Relation){if(e._targetClassName&&e._targetClassName!==this._targetClassName)throw"Related object must be of class "+e._targetClassName+", but "+this._targetClassName+" was passed in.";var n=r.union(r.difference(e.relationsToAdd,this.relationsToRemove),this.relationsToAdd),i=r.union(r.difference(e.relationsToRemove,this.relationsToAdd),this.relationsToRemove),s=new t.Op.Relation(n,i);return s._targetClassName=this._targetClassName,s}throw"Op is invalid after previous op."}return this},_estimate:function(e,n,r){if(e){if(e instanceof t.Relation){if(this._targetClassName)if(e.targetClassName){if(e.targetClassName!==this._targetClassName)throw"Related object must be a "+e.targetClassName+", but a "+this._targetClassName+" was passed in."}else e.targetClassName=this._targetClassName;return e}throw"Op is invalid after previous op."}var i=new t.Relation(n,r);i.targetClassName=this._targetClassName}}),t.Op._registerDecoder("AddRelation",function(e){return new t.Op.Relation(t._decode(void 0,e.objects),[])}),t.Op._registerDecoder("RemoveRelation",function(e){return new t.Op.Relation([],t._decode(void 0,e.objects))})}},{underscore:17}],32:[function(t,e,n){(function(n){var r=t("underscore"),i=e.exports=function(t){this._resolved=!1,this._rejected=!1,this._resolvedCallbacks=[],this._rejectedCallbacks=[],this.doResolve(t)},s=function(t){return r.isNull(t)||r.isUndefined(t)},o=!1;"undefined"!=typeof n&&n.versions&&n.versions.node&&(o=!0),r.extend(i,{_isPromisesAPlusCompliant:!o,_debugError:!1,setPromisesAPlusCompliant:function(t){i._isPromisesAPlusCompliant=t},setDebugError:function(t){i._debugError=t},is:function(t){return t&&t.then&&r.isFunction(t.then)},as:function(){var t=new i;return arguments[0]&&r.isFunction(arguments[0].then)?arguments[0].then(function(e){t.resolve.call(t,e);
},function(e){t.reject.call(t,e)}):t.resolve.apply(t,arguments),t},error:function(){var t=new i;return t.reject.apply(t,arguments),t},when:function(t){var e;e=t&&s(t.length)?arguments:t;var n=r.last(arguments);n=r.isBoolean(n)?n:!1;var o=e.length,a=!1,u=[],c=[];if(u.length=e.length,c.length=e.length,0===o)return n?i.as.call(this,u):i.as.apply(this,u);var l=new i,h=function(t){return o-=1,a&&!l._rejected&&n?void l.reject.call(l,c[t]):void(0===o&&(a&&!l._rejected?l.reject.call(l,c):n?l._rejected||l.resolve.call(l,u):l.resolve.apply(l,u)))};return r.each(e,function(t,e){i.is(t)?t.then(function(t){u[e]=t,h(e)},function(t){c[e]=t,a=!0,h(e)}):(u[e]=t,h(e))}),l},race:function(t){var e;e=t&&s(t.length)?arguments:t;var n=e.length,o=!1,a=[],u=[];if(a.length=u.length=e.length,0===n)return i.as.call(this);var c=new i,l=function(t){c._resolved||c._rejected||(o?c.reject.call(c,u[t]):c.resolve.call(c,a[t]))};return r.each(e,function(t,e){i.is(t)?t.then(function(t){a[e]=t,l(e)},function(t){u[e]=t,o=!0,l(e)}):(a[e]=t,l(e))}),c},_continueWhile:function(t,e){return t()?e().then(function(){return i._continueWhile(t,e)}):i.as()}}),i.all=function(t){return i.when(t,!0)},r.extend(i.prototype,{resolve:function(t){if(this._resolved||this._rejected)throw"A promise was resolved even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._resolved=!0,this._result=arguments;var e=arguments;r.each(this._resolvedCallbacks,function(t){t.apply(this,e)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},doResolve:function(t){if(t){var e=!1,n=this;try{t(function(t){e||(e=!0,n.resolve.call(n,t))},function(t){e||(e=!0,n.reject.call(n,t))})}catch(r){if(e)return;e=!0,n.reject.call(n,r)}}},reject:function(t){if(this._resolved||this._rejected)throw"A promise was rejected even though it had already been "+(this._resolved?"resolved":"rejected")+".";this._rejected=!0,this._error=t,r.each(this._rejectedCallbacks,function(e){e(t)}),this._resolvedCallbacks=[],this._rejectedCallbacks=[]},then:function(t,e){var s=new i,o=function(){var e=arguments;if(t)if(i._isPromisesAPlusCompliant)try{e=[t.apply(this,e)]}catch(n){i._debugError&&n&&console.error("Error occurred in promise resolve callback.",n.stack||n),e=[i.error(n)]}else e=[t.apply(this,e)];1===e.length&&i.is(e[0])?e[0].then(function(){s.resolve.apply(s,arguments)},function(t){s.reject(t)}):s.resolve.apply(s,e)},a=function(t){var n=[];if(e){if(i._isPromisesAPlusCompliant)try{n=[e(t)]}catch(r){i._debugError&&r&&console.error("Error occurred in promise reject callback.",r.stack||r),n=[i.error(r)]}else n=[e(t)];1===n.length&&i.is(n[0])?n[0].then(function(){s.resolve.apply(s,arguments)},function(t){s.reject(t)}):i._isPromisesAPlusCompliant?s.resolve.apply(s,n):s.reject(n[0])}else s.reject(t)},u=function(t){t.call()};i._isPromisesAPlusCompliant&&("undefined"!=typeof window&&r.isFunction(window.setImmediate)?u=function(t){window.setImmediate(t)}:"undefined"!=typeof n&&n.nextTick?u=function(t){n.nextTick(t)}:"undefined"!=typeof setTimeout&&r.isFunction(setTimeout)&&(u=function(t){setTimeout(t,0)}));var c=this;return this._resolved?u(function(){o.apply(c,c._result)}):this._rejected?u(function(){a.apply(c,[c._error])}):(this._resolvedCallbacks.push(o),this._rejectedCallbacks.push(a)),s},"catch":function(t){return this.then(void 0,t)},always:function(t){return this.then(t,t)},done:function(t){return this.then(t)},fail:function(t){return this.then(null,t)},_thenRunCallbacks:function(t,e){var n;if(r.isFunction(t)){var s=t;n={success:function(t){s(t,null)},error:function(t){s(null,t)}}}else n=r.clone(t);return n=n||{},this.then(function(t){return n.success?n.success.apply(this,arguments):e&&e.trigger("sync",e,t,n),i.as.apply(i,arguments)},function(t){return n.error?r.isUndefined(e)?n.error(t):n.error(e,t):e&&e.trigger("error",e,t,n),i.error(t)})},_continueWith:function(t){return this.then(function(){return t(arguments,null)},function(e){return t(null,e)})}}),i.prototype["finally"]=i.prototype.always,i.prototype["try"]=i.prototype.done}).call(this,t("_process"))},{_process:2,underscore:17}],33:[function(t,e,n){var r=t("./request").request;e.exports=function(t){t.Installation=t.Object.extend("_Installation"),t.Push=t.Push||{},t.Push.send=function(t,e){if(t.where&&(t.where=t.where.toJSON().where),t.where&&t.cql)throw"Both where and cql can't be set";if(t.push_time&&(t.push_time=t.push_time.toJSON()),t.expiration_time&&(t.expiration_time=t.expiration_time.toJSON()),t.expiration_time&&t.expiration_time_interval)throw"Both expiration_time and expiration_time_interval can't be set";var n=r("push",null,null,"POST",t);return n._thenRunCallbacks(e)}}},{"./request":36}],34:[function(t,e,n){var r=t("underscore"),i=t("./error"),s=t("./request").request;e.exports=function(t){t.Query=function(e){r.isString(e)&&(e=t.Object._getSubclass(e)),this.objectClass=e,this.className=e.prototype.className,this._where={},this._include=[],this._limit=-1,this._skip=0,this._extraOptions={}},t.Query.or=function(){var e=r.toArray(arguments),n=null;t._arrayEach(e,function(t){if(r.isNull(n)&&(n=t.className),n!==t.className)throw"All queries must be for the same class"});var i=new t.Query(n);return i._orQuery(e),i},t.Query.and=function(){var e=r.toArray(arguments),n=null;t._arrayEach(e,function(t){if(r.isNull(n)&&(n=t.className),n!==t.className)throw"All queries must be for the same class"});var i=new t.Query(n);return i._andQuery(e),i},t.Query.doCloudQuery=function(e,n,i){var o={cql:e};r.isArray(n)?o.pvalues=n:i=n;var a=s("cloudQuery",null,null,"GET",o,i&&i.sessionToken);return a.then(function(e){var n=new t.Query(e.className),i=r.map(e.results,function(t){var r=n._newObject(e);return r._finishFetch(n._processResult(t),!0),r});return{results:i,count:e.count,className:e.className}})._thenRunCallbacks(i)},t.Query._extend=t._extend,t.Query.prototype={_processResult:function(t){return t},get:function(e,n){if(!e){var s=new i(i.OBJECT_NOT_FOUND,"Object not found.");throw s}var o=this;return o.equalTo("objectId",e),o.first().then(function(e){if(!r.isEmpty(e))return e;var n=new i(i.OBJECT_NOT_FOUND,"Object not found.");return t.Promise.error(n)})._thenRunCallbacks(n,null)},toJSON:function(){var e={where:this._where};return this._include.length>0&&(e.include=this._include.join(",")),this._select&&(e.keys=this._select.join(",")),this._limit>=0&&(e.limit=this._limit),this._skip>0&&(e.skip=this._skip),void 0!==this._order&&(e.order=this._order),t._objectEach(this._extraOptions,function(t,n){e[n]=t}),e},_newObject:function(e){var n;return n=e&&e.className?new t.Object(e.className):new this.objectClass},_createRequest:function(t,e){return s("classes",this.className,null,"GET",t||this.toJSON(),e&&e.sessionToken)},find:function(t){var e=this,n=this._createRequest(null,t);return n.then(function(t){return r.map(t.results,function(n){var r=e._newObject(t);return r._finishFetch(e._processResult(n),!0),r})})._thenRunCallbacks(t)},destroyAll:function(e){var n=this;return n.find().then(function(e){return t.Object.destroyAll(e)})._thenRunCallbacks(e)},count:function(t){var e=this.toJSON();e.limit=0,e.count=1;var n=this._createRequest(e,t);return n.then(function(t){return t.count})._thenRunCallbacks(t)},first:function(t){var e=this,n=this.toJSON();n.limit=1;var i=this._createRequest(n,t);return i.then(function(t){return r.map(t.results,function(t){var n=e._newObject();return n._finishFetch(e._processResult(t),!0),n})[0]})._thenRunCallbacks(t)},collection:function(e,n){return n=n||{},new t.Collection(e,r.extend(n,{model:this._objectClass||this.objectClass,query:this}))},skip:function(t){return this._skip=t,this},limit:function(t){return this._limit=t,this},equalTo:function(e,n){return this._where[e]=t._encode(n),this},_addCondition:function(e,n,r){return this._where[e]||(this._where[e]={}),this._where[e][n]=t._encode(r),this},sizeEqualTo:function(t,e){this._addCondition(t,"$size",e)},notEqualTo:function(t,e){return this._addCondition(t,"$ne",e),this},lessThan:function(t,e){return this._addCondition(t,"$lt",e),this},greaterThan:function(t,e){return this._addCondition(t,"$gt",e),this},lessThanOrEqualTo:function(t,e){return this._addCondition(t,"$lte",e),this},greaterThanOrEqualTo:function(t,e){return this._addCondition(t,"$gte",e),this},containedIn:function(t,e){return this._addCondition(t,"$in",e),this},notContainedIn:function(t,e){return this._addCondition(t,"$nin",e),this},containsAll:function(t,e){return this._addCondition(t,"$all",e),this},exists:function(t){return this._addCondition(t,"$exists",!0),this},doesNotExist:function(t){return this._addCondition(t,"$exists",!1),this},matches:function(t,e,n){return this._addCondition(t,"$regex",e),n||(n=""),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),n&&n.length&&this._addCondition(t,"$options",n),this},matchesQuery:function(t,e){var n=e.toJSON();return n.className=e.className,this._addCondition(t,"$inQuery",n),this},doesNotMatchQuery:function(t,e){var n=e.toJSON();return n.className=e.className,this._addCondition(t,"$notInQuery",n),this},matchesKeyInQuery:function(t,e,n){var r=n.toJSON();return r.className=n.className,this._addCondition(t,"$select",{key:e,query:r}),this},doesNotMatchKeyInQuery:function(t,e,n){var r=n.toJSON();return r.className=n.className,this._addCondition(t,"$dontSelect",{key:e,query:r}),this},_orQuery:function(t){var e=r.map(t,function(t){return t.toJSON().where});return this._where.$or=e,this},_andQuery:function(t){var e=r.map(t,function(t){return t.toJSON().where});return this._where.$and=e,this},_quote:function(t){return"\\Q"+t.replace("\\E","\\E\\\\E\\Q")+"\\E"},contains:function(t,e){return this._addCondition(t,"$regex",this._quote(e)),this},startsWith:function(t,e){return this._addCondition(t,"$regex","^"+this._quote(e)),this},endsWith:function(t,e){return this._addCondition(t,"$regex",this._quote(e)+"$"),this},ascending:function(t){return this._order=t,this},addAscending:function(t){return this._order?this._order+=","+t:this._order=t,this},descending:function(t){return this._order="-"+t,this},addDescending:function(t){return this._order?this._order+=",-"+t:this._order="-"+t,t},near:function(e,n){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),this._addCondition(e,"$nearSphere",n),this},withinRadians:function(t,e,n){return this.near(t,e),this._addCondition(t,"$maxDistance",n),this},withinMiles:function(t,e,n){return this.withinRadians(t,e,n/3958.8)},withinKilometers:function(t,e,n){return this.withinRadians(t,e,n/6371)},withinGeoBox:function(e,n,r){return n instanceof t.GeoPoint||(n=new t.GeoPoint(n)),r instanceof t.GeoPoint||(r=new t.GeoPoint(r)),this._addCondition(e,"$within",{$box:[n,r]}),this},include:function(){var e=this;return t._arrayEach(arguments,function(t){r.isArray(t)?e._include=e._include.concat(t):e._include.push(t)}),this},select:function(){var e=this;return this._select=this._select||[],t._arrayEach(arguments,function(t){r.isArray(t)?e._select=e._select.concat(t):e._select.push(t)}),this},each:function(e,n){if(n=n||{},this._order||this._skip||this._limit>=0){var i="Cannot iterate on a query with sort, skip, or limit.";return t.Promise.error(i)._thenRunCallbacks(n)}var s=(new t.Promise,new t.Query(this.objectClass));s._limit=n.batchSize||100,s._where=r.clone(this._where),s._include=r.clone(this._include),s.ascending("objectId");var o=!1;return t.Promise._continueWhile(function(){return!o},function(){return s.find().then(function(n){var i=t.Promise.as();return r.each(n,function(t){i=i.then(function(){return e(t)})}),i.then(function(){n.length>=s._limit?s.greaterThan("objectId",n[n.length-1].id):o=!0})})})._thenRunCallbacks(n)}},t.FriendShipQuery=t.Query._extend({_objectClass:t.User,_newObject:function(){return new t.User},_processResult:function(t){if(t&&t[this._friendshipTag]){var e=t[this._friendshipTag];return"Pointer"===e.__type&&"_User"===e.className&&(delete e.__type,delete e.className),e}return null}})}},{"./error":24,"./request":36,underscore:17}],35:[function(t,e,n){var r=t("underscore");e.exports=function(t){t.Relation=function(t,e){if(!r.isString(e))throw new TypeError("key must be a string");this.parent=t,this.key=e,this.targetClassName=null},t.Relation.reverseQuery=function(e,n,r){var i=new t.Query(e);return i.equalTo(n,r._toPointer()),i},t.Relation.prototype={_ensureParentAndKey:function(t,e){if(this.parent=this.parent||t,this.key=this.key||e,this.parent!==t)throw"Internal Error. Relation retrieved from two different Objects.";if(this.key!==e)throw"Internal Error. Relation retrieved from two different keys."},add:function(e){r.isArray(e)||(e=[e]);var n=new t.Op.Relation(e,[]);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},remove:function(e){r.isArray(e)||(e=[e]);var n=new t.Op.Relation([],e);this.parent.set(this.key,n),this.targetClassName=n._targetClassName},toJSON:function(){return{__type:"Relation",className:this.targetClassName}},query:function e(){var n,e;return this.targetClassName?(n=t.Object._getSubclass(this.targetClassName),e=new t.Query(n)):(n=t.Object._getSubclass(this.parent.className),e=new t.Query(n),e._extraOptions.redirectClassNameForKey=this.key),e._addCondition("$relatedTo","object",this.parent._toPointer()),e._addCondition("$relatedTo","key",this.key),e}}}},{underscore:17}],36:[function(t,e,n){(function(n){var r=t("superagent"),i=t("debug")("request"),s=t("md5"),o=t("./promise"),a=t("./cache"),u=t("./error"),c=t("./av"),l=function(t,e){var n=(new Date).getTime(),r=s(n+t);return e?r+","+n+",master":r+","+n},h=function(t){var e=["batch","classes","files","date","functions","call","login","push","search/select","requestPasswordReset","requestEmailVerify","requestPasswordResetBySmsCode","resetPasswordBySmsCode","requestMobilePhoneVerify","requestLoginSmsCode","verifyMobilePhone","requestSmsCode","verifySmsCode","users","usersByMobilePhone","cloudQuery","qiniu","fileTokens","statuses","bigquery","search/select","subscribe/statuses/count","subscribe/statuses","installations"];if(-1===e.indexOf(t)&&!/users\/[^\/]+\/updatePassword/.test(t)&&!/users\/[^\/]+\/friendship\/[^\/]+/.test(t))throw new Error("Bad router: "+t+".")},f=function(t,e,n){var s=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],a=arguments[4];i(t,e,n,s);var u=new o,c=r(t,e).set(s).send(n).end(function(t,e){return e&&i(e.status,e.body,e.text),t?(e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),u.reject(t)):u.resolve(e.body,e.status,e)});return a&&c.on("progress",a),u},d=function(t){var e={"X-LC-Id":c.applicationId,"Content-Type":"application/json;charset=UTF-8"};c.masterKey&&c._useMasterKey?e["X-LC-Sign"]=l(c.masterKey,!0):e["X-LC-Sign"]=l(c.applicationKey),null!==c._config.applicationProduction&&(e["X-LC-Prod"]=c._config.applicationProduction),c._config.isNode?e["User-Agent"]=c._config.userAgent||"AV/"+c.version+"; Node.js/"+n.version:e["X-LC-UA"]="AV/"+c.version;var r=new o;return t?(e["X-LC-Session"]=t,r.resolve(e)):c._config.disableCurrentUser?r.resolve(e):c.User.currentAsync().then(function(t){t&&t._sessionToken&&(e["X-LC-Session"]=t._sessionToken),r.resolve(e)}),r},p=function(t,e,n,r,i){c.serverURL&&(c._config.APIServerURL=c.serverURL,console.warn("Please use AV._config.APIServerURL to replace AV.serverURL, and it is an internal interface."));var s=c._config.APIServerURL;if("/"!==s.charAt(s.length-1)&&(s+="/"),s+="1.1/"+t,e&&(s+="/"+e),n&&(s+="/"+n),"users"!==t&&"classes"!==t||!i||(s+="?",i._fetchWhenSave&&(delete i._fetchWhenSave,s+="&new=true"),i._where&&(s+="&where="+encodeURIComponent(JSON.stringify(i._where)),delete i._where)),"get"===r.toLowerCase()){-1===s.indexOf("?")&&(s+="?");for(var o in i)"object"===_typeof(i[o])&&(i[o]=JSON.stringify(i[o])),s+="&"+o+"="+encodeURIComponent(i[o])}return s},_=function(t,e){"number"!=typeof e&&(e=3600),a.set("APIServerURL",t,1e3*e)},m=function(t){var e=new o;if(410===t.statusCode)_(t.response.api_server,t.response.ttl),e.resolve(t.response.location);else{var n={code:-1,error:t.responseText};if(t.response&&t.response.code)n=t.response;else if(t.responseText)try{n=JSON.parse(t.responseText)}catch(r){}var i=new u(n.code,n.error);e.reject(i)}return e},v=function(){var t=arguments.length<=0||void 0===arguments[0]?"cn":arguments[0],e={cn:"https://api.leancloud.cn",us:"https://us-api.leancloud.cn"},n=c._config;n.region=t,n.APIServerURL||(n.APIServerURL=e[t],"cn"===t&&a.get("APIServerURL").then(function(t){return t?t:f("get","https://app-router.leancloud.cn/1/route?appId="+c.applicationId).then(function(t){return t.api_server?(_(t.api_server,t.ttl),t.api_server):void 0})}).then(function(r){n.APIServerURL===e[t]&&(n.APIServerURL="https://"+r)}))},g=function(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],s=arguments[5];if(!c.applicationId)throw new Error("You must specify your applicationId using AV.init()");if(!c.applicationKey&&!c.masterKey)throw new Error("You must specify a AppKey using AV.init()");h(t);var o=p(t,e,n,r,i);return d(s).then(function(t){return f(r,o,i,t).then(null,function(e){return m(e).then(function(e){return f(r,e,i,t)})})})};e.exports={ajax:f,request:g,setServerUrlByRegion:v}}).call(this,t("_process"))},{"./av":19,"./cache":22,"./error":24,"./promise":32,_process:2,debug:4,md5:8,superagent:13}],37:[function(t,e,n){var r=t("underscore"),i=t("./error");e.exports=function(t){t.Role=t.Object.extend("_Role",{constructor:function(e,n){if(r.isString(e)?(t.Object.prototype.constructor.call(this,null,null),this.setName(e)):t.Object.prototype.constructor.call(this,e,n),void 0===n){var i=new t.ACL;i.setPublicReadAccess(!0),this.getACL()||this.setACL(i)}else{if(!(n instanceof t.ACL))throw new TypeError("acl must be an instance of AV.ACL");this.setACL(n)}},getName:function(){return this.get("name")},setName:function(t,e){return this.set("name",t,e)},getUsers:function(){return this.relation("users")},getRoles:function(){return this.relation("roles")},validate:function(e,n){if("name"in e&&e.name!==this.getName()){var s=e.name;if(this.id&&this.id!==e.objectId)return new i(i.OTHER_CAUSE,"A role's name can only be set before it has been saved.");if(!r.isString(s))return new i(i.OTHER_CAUSE,"A role's name must be a String.");if(!/^[0-9a-zA-Z\-_ ]+$/.test(s))return new i(i.OTHER_CAUSE,"A role's name can only contain alphanumeric characters, _, -, and spaces.")}return t.Object.prototype.validate?t.Object.prototype.validate.call(this,e,n):!1}})}},{"./error":24,underscore:17}],38:[function(t,e,n){var r=t("underscore"),i=t("./request").request;e.exports=function(t){t.SearchSortBuilder=function(){this._sortFields=[]},t.SearchSortBuilder.prototype={_addField:function(t,e,n,r){var i={};return i[t]={order:e||"asc",mode:n||"avg",missing:"_"+(r||"last")},this._sortFields.push(i),this},ascending:function(t,e,n){return this._addField(t,"asc",e,n)},descending:function(t,e,n){return this._addField(t,"desc",e,n)},whereNear:function(t,e,n){n=n||{};var r={},i={lat:e.latitude,lon:e.longitude},s={order:n.order||"asc",mode:n.mode||"avg",unit:n.unit||"km"};return s[t]=i,r._geo_distance=s,this._sortFields.push(r),this},build:function(){return JSON.stringify(t._encode(this._sortFields))}},t.SearchQuery=t.Query._extend({_sid:null,_hits:0,_queryString:null,_highlights:null,_sortBuilder:null,_createRequest:function(t,e){return i("search/select",null,null,"GET",t||this.toJSON(),e&&e.sessionToken)},sid:function(t){return this._sid=t,this},queryString:function(t){return this._queryString=t,this},highlights:function(t){var e;return e=t&&r.isString(t)?arguments:t,this._highlights=e,this},sortBy:function(t){return this._sortBuilder=t,this},hits:function(){return this._hits||(this._hits=0),this._hits},_processResult:function(t){return delete t.className,delete t._app_url,delete t._deeplink,t},hasMore:function(){return!this._hitEnd},reset:function(){this._hitEnd=!1,this._sid=null,this._hits=0},find:function(t){var e=this,n=this._createRequest();return n.then(function(t){return t.sid?(e._oldSid=e._sid,e._sid=t.sid):(e._sid=null,e._hitEnd=!0),e._hits=t.hits||0,r.map(t.results,function(n){n.className&&(t.className=n.className);var r=e._newObject(t);return r.appURL=n._app_url,r._finishFetch(e._processResult(n),!0),r})})._thenRunCallbacks(t)},toJSON:function(){var e=t.SearchQuery.__super__.toJSON.call(this);if(delete e.where,this.className&&(e.clazz=this.className),this._sid&&(e.sid=this._sid),!this._queryString)throw"Please set query string.";if(e.q=this._queryString,this._highlights&&(e.highlights=this._highlights.join(",")),this._sortBuilder&&e.order)throw"sort and order can not be set at same time.";return this._sortBuilder&&(e.sort=this._sortBuilder.build()),e}})}},{"./request":36,underscore:17}],39:[function(t,e,n){var r=t("underscore"),i=t("./request").request;e.exports=function(t){t.Status=function(t,e){return this.data={},this.inboxType="default",this.query=null,t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))?this.data=t:(t&&(this.data.image=t),e&&(this.data.message=e)),this},t.Status.prototype={get:function(t){return this.data[t]},set:function(t,e){return this.data[t]=e,this},destroy:function(e){if(!this.id)return t.Promise.error("The status id is not exists.")._thenRunCallbacks(e);var n=i("statuses",null,this.id,"DELETE",e&&e.sessionToken);return n._thenRunCallbacks(e)},toObject:function(){return this.id?t.Object.createWithoutData("_Status",this.id):null},_getDataJSON:function(){var e=r.clone(this.data);return t._encode(e)},send:function(e){if(!t.User.current())throw"Please signin an user.";if(!this.query)return t.Status.sendStatusToFollowers(this,e);var n=this.query.toJSON();n.className=this.query.className;var r={};r.query=n,this.data=this.data||{};var s=t.Object.createWithoutData("_User",t.User.current().id)._toPointer();this.data.source=this.data.source||s,r.data=this._getDataJSON(),r.inboxType=this.inboxType||"default";var o=i("statuses",null,null,"POST",r,e&&e.sessionToken),a=this;return o.then(function(e){return a.id=e.objectId,a.createdAt=t._parseDate(e.createdAt),a})._thenRunCallbacks(e)},_finishFetch:function(e){this.id=e.objectId,this.createdAt=t._parseDate(e.createdAt),this.updatedAt=t._parseDate(e.updatedAt),this.messageId=e.messageId,delete e.messageId,delete e.objectId,delete e.createdAt,delete e.updatedAt,this.data=t._decode(void 0,e)}},t.Status.sendStatusToFollowers=function(e,n){if(!t.User.current())throw"Please signin an user.";var r={};r.className="_Follower",r.keys="follower";var s=t.Object.createWithoutData("_User",t.User.current().id)._toPointer();r.where={user:s};var o={};o.query=r,e.data=e.data||{},e.data.source=e.data.source||s,o.data=e._getDataJSON(),o.inboxType=e.inboxType||"default";var a=i("statuses",null,null,"POST",o,n&&n.sessionToken);return a.then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})._thenRunCallbacks(n)},t.Status.sendPrivateStatus=function(e,n,s){if(!t.User.current())throw"Please signin an user.";if(!n)throw"Invalid target user.";var o=r.isString(n)?n:n.id;if(!o)throw"Invalid target user.";var a={};a.className="_User";var u=t.Object.createWithoutData("_User",t.User.current().id)._toPointer();a.where={objectId:o};var c={};c.query=a,e.data=e.data||{},e.data.source=e.data.source||u,c.data=e._getDataJSON(),c.inboxType="private",e.inboxType="private";var l=i("statuses",null,null,"POST",c,s&&s.sessionToken);return l.then(function(n){return e.id=n.objectId,e.createdAt=t._parseDate(n.createdAt),e})._thenRunCallbacks(s)},t.Status.countUnreadStatuses=function(e){if(!t.User.current()&&null==e)throw"Please signin an user or pass the owner objectId.";e=e||t.User.current();var n=r.isString(arguments[1])?arguments[2]:arguments[1],s=r.isString(arguments[1])?arguments[1]:"default",o={};o.inboxType=t._encode(s),o.owner=t._encode(e);var a=i("subscribe/statuses/count",null,null,"GET",o,n&&n.sessionToken);return a._thenRunCallbacks(n)},t.Status.statusQuery=function(e){var n=new t.Query("_Status");return e&&n.equalTo("source",e),n},t.InboxQuery=t.Query._extend({_objectClass:t.Status,_sinceId:0,_maxId:0,_inboxType:"default",_owner:null,_newObject:function(){return new t.Status},_createRequest:function(t,e){return i("subscribe/statuses",null,null,"GET",t||this.toJSON(),e&&e.sessionToken)},sinceId:function(t){return this._sinceId=t,this},maxId:function(t){return this._maxId=t,this},owner:function(t){return this._owner=t,this},inboxType:function(t){return this._inboxType=t,this},toJSON:function(){var e=t.InboxQuery.__super__.toJSON.call(this);return e.owner=t._encode(this._owner),e.inboxType=t._encode(this._inboxType),e.sinceId=t._encode(this._sinceId),e.maxId=t._encode(this._maxId),e}}),t.Status.inboxQuery=function(e,n){var r=new t.InboxQuery(t.Status);return e&&(r._owner=e),n&&(r._inboxType=n),r}}},{"./request":36,underscore:17}],40:[function(t,e,n){var r=t("superagent"),i=t("debug")("cos"),s=t("../promise");e.exports=function(t,e,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var a=t.upload_url+"?sign="+encodeURIComponent(t.token),u=new s,c=r("POST",a).field("fileContent",e).field("op","upload").end(function(t,e){return e&&i(e.status,e.body,e.text),t?(e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),u.reject(t)):void u.resolve(n)});return o.onprogress&&c.on("progress",o.onprogress),u}},{"../promise":32,debug:4,superagent:13}],41:[function(t,e,n){var r=t("superagent"),i=t("../promise"),s=t("debug")("qiniu");e.exports=function(t,e,n){var o=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];n.attributes.url=t.url,n._bucket=t.bucket,n.id=t.objectId;var a=t.token,u=new i,c=r("POST","https://up.qbox.me").field("file",e).field("name",n.attributes.name).field("key",n._qiniu_key).field("token",a).end(function(t,e){return e&&s(e.status,e.body,e.text),t?(e&&(t.statusCode=e.status,t.responseText=e.text,t.response=e.body),u.reject(t)):void u.resolve(n)});return o.onprogress&&c.on("progress",o.onprogress),u}},{"../promise":32,debug:4,superagent:13}],42:[function(t,e,n){function r(t){var e=i.clone(t)||{};return delete e.success,delete e.error,e}var i=t("underscore"),s=t("./error"),o=t("./request").request;e.exports=function(t){t.User=t.Object.extend("_User",{_isCurrentUser:!1,_mergeMagicFields:function(e){e.sessionToken&&(this._sessionToken=e.sessionToken,delete e.sessionToken),t.User.__super__._mergeMagicFields.call(this,e)},_cleanupAuthData:function(){if(this.isCurrent()){var e=this.get("authData");e&&t._objectEach(this.get("authData"),function(t,n){e[n]||delete e[n]})}},_synchronizeAllAuthData:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(t,e){n._synchronizeAuthData(e)})}},_synchronizeAuthData:function(e){if(this.isCurrent()){var n;i.isString(e)?(n=e,e=t.User._authProviders[n]):n=e.getAuthType();var r=this.get("authData");if(r&&e){var s=e.restoreAuthentication(r[n]);s||this._unlinkFrom(e)}}},_handleSaveResult:function(e){return e&&!t._config.disableCurrentUser&&(this._isCurrentUser=!0),this._cleanupAuthData(),this._synchronizeAllAuthData(),delete this._serverData.password,this._rebuildEstimatedDataForKey("password"),this._refreshCache(),!e&&!this.isCurrent()||t._config.disableCurrentUser?t.Promise.as():t.Promise.as(t.User._saveCurrentUser(this))},_linkWith:function(e,n){var s;if(i.isString(e)?(s=e,e=t.User._authProviders[e]):s=e.getAuthType(),i.has(n,"authData")){var o=this.get("authData")||{};return o[s]=n.authData,this.set("authData",o),this.save({authData:o},r(n)).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})._thenRunCallbacks(n)}var a=this,u=new t.Promise;return e.authenticate({success:function(t,e){a._linkWith(t,{authData:e,success:n.success,error:n.error}).then(function(){u.resolve(a)})},error:function(t,e){n.error&&n.error(a,e),u.reject(e)}}),u},_unlinkFrom:function(e,n){var r;i.isString(e)?(r=e,e=t.User._authProviders[e]):r=e.getAuthType();var s=i.clone(n),o=this;return s.authData=null,s.success=function(t){o._synchronizeAuthData(e),n.success&&n.success.apply(this,arguments)},this._linkWith(e,s)},_isLinked:function(t){var e;e=i.isString(t)?t:t.getAuthType();var n=this.get("authData")||{};return!!n[e]},logOut:function(){this._logOutWithAll(),this._isCurrentUser=!1},_logOutWithAll:function(){var e=this.get("authData");if(e){var n=this;t._objectEach(this.get("authData"),function(t,e){n._logOutWith(e)})}},_logOutWith:function(e){this.isCurrent()&&(i.isString(e)&&(e=t.User._authProviders[e]),e&&e.deauthenticate&&e.deauthenticate())},signUp:function(t,e){var n;e=e||{};var i=t&&t.username||this.get("username");if(!i||""===i)throw n=new s(s.OTHER_CAUSE,"Cannot sign up user with an empty name."),e&&e.error&&e.error(this,n),n;var o=t&&t.password||this.get("password");if(!o||""===o)throw n=new s(s.OTHER_CAUSE,"Cannot sign up user with an empty password."),e&&e.error&&e.error(this,n),n;return this.save(t,r(e)).then(function(t){return t._handleSaveResult(!0).then(function(){return t})})._thenRunCallbacks(e,this)},signUpOrlogInWithMobilePhone:function(t,e){var n;e=e||{};var i=t&&t.mobilePhoneNumber||this.get("mobilePhoneNumber");if(!i||""===i)throw n=new s(s.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber with an empty mobilePhoneNumber."),e&&e.error&&e.error(this,n),n;var a=t&&t.smsCode||this.get("smsCode");if(!a||""===a)throw n=new s(s.OTHER_CAUSE,"Cannot sign up or login user by mobilePhoneNumber  with an empty smsCode."),e&&e.error&&e.error(this,n),n;var u=r(e);return u._makeRequest=function(t,e,n,r,i){return o("usersByMobilePhone",null,null,"POST",i)},this.save(t,u).then(function(t){return delete t.attributes.smsCode,delete t._serverData.smsCode,t._handleSaveResult(!0).then(function(){return t})})._thenRunCallbacks(e)},logIn:function(t){var e=this,n=o("login",null,null,"GET",this.toJSON());return n.then(function(t,n,r){var i=e.parse(t,n,r);return e._finishFetch(i),e._handleSaveResult(!0).then(function(){return i.smsCode||delete e.attributes.smsCode,e})})._thenRunCallbacks(t,this)},save:function(e,n,s){var o,a;return i.isObject(e)||i.isNull(e)||i.isUndefined(e)?(o=e,a=n):(o={},o[e]=n,a=s),a=a||{},t.Object.prototype.save.call(this,o,r(a)).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})._thenRunCallbacks(a)},follow:function(t,e){if(!this.id)throw"Please signin.";if(!t)throw"Invalid target user.";var n=i.isString(t)?t:t.id;if(!n)throw"Invalid target user.";var r="users/"+this.id+"/friendship/"+n,s=o(r,null,null,"POST",null,e&&e.sessionToken);return s._thenRunCallbacks(e)},unfollow:function(t,e){if(!this.id)throw"Please signin.";if(!t)throw"Invalid target user.";var n=i.isString(t)?t:t.id;if(!n)throw"Invalid target user.";var r="users/"+this.id+"/friendship/"+n,s=o(r,null,null,"DELETE",null,e&&e.sessionToken);return s._thenRunCallbacks(e)},followerQuery:function(){return t.User.followerQuery(this.id)},followeeQuery:function(){return t.User.followeeQuery(this.id)},fetch:function(){var e=null,n={};return 1===arguments.length?e=arguments[0]:2===arguments.length&&(n=arguments[0],e=arguments[1]),t.Object.prototype.fetch.call(this,n,{}).then(function(t){return t._handleSaveResult(!1).then(function(){return t})})._thenRunCallbacks(e)},updatePassword:function(t,e,n){var r="users/"+this.id+"/updatePassword",i={old_password:t,new_password:e},s=o(r,null,null,"PUT",i,n&&n.sessionToken);return s._thenRunCallbacks(n,this)},isCurrent:function(){return this._isCurrentUser},getUsername:function(){return this.get("username")},getMobilePhoneNumber:function(){return this.get("mobilePhoneNumber")},setMobilePhoneNumber:function(t,e){return this.set("mobilePhoneNumber",t,e)},setUsername:function(t,e){return this.set("username",t,e)},setPassword:function(t,e){return this.set("password",t,e)},getEmail:function(){return this.get("email")},setEmail:function(t,e){return this.set("email",t,e)},authenticated:function(){return!!this._sessionToken&&!t._config.disableCurrentUser&&t.User.current()&&t.User.current().id===this.id},getSessionToken:function(){return this._sessionToken}},{_currentUser:null,_currentUserMatchesDisk:!1,
_CURRENT_USER_KEY:"currentUser",_authProviders:{},signUp:function(e,n,r,i){r=r||{},r.username=e,r.password=n;var s=t.Object._create("_User");return s.signUp(r,i)},logIn:function(e,n,r){var i=t.Object._create("_User");return i._finishFetch({username:e,password:n}),i.logIn(r)},become:function(e,n){n=n||{};var r=t.Object._create("_User");return o("users","me",null,"GET",{useMasterKey:n.useMasterKey,session_token:e}).then(function(t,e,n){var i=r.parse(t,e,n);return r._finishFetch(i),r._handleSaveResult(!0).then(function(){return r})})._thenRunCallbacks(n,r)},logInWithMobilePhoneSmsCode:function(e,n,r){var i=t.Object._create("_User");return i._finishFetch({mobilePhoneNumber:e,smsCode:n}),i.logIn(r)},signUpOrlogInWithMobilePhone:function(e,n,r,i){r=r||{},r.mobilePhoneNumber=e,r.smsCode=n;var s=t.Object._create("_User");return s.signUpOrlogInWithMobilePhone(r,i)},logInWithMobilePhone:function(e,n,r){var i=t.Object._create("_User");return i._finishFetch({mobilePhoneNumber:e,password:n}),i.logIn(r)},signUpOrlogInWithAuthData:function(e,n,r){return t.User._logInWith(n,{authData:e,success:function(t){r.success(t)},error:function(t){r.error(t)}})},logOut:function(){return t._config.disableCurrentUser?(console.warn("AV.User.current() was disabled in multi-user environment, call logOut() from user object instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),t.Promise.as(null)):(null!==t.User._currentUser&&(t.User._currentUser._logOutWithAll(),t.User._currentUser._isCurrentUser=!1),t.User._currentUserMatchesDisk=!0,t.User._currentUser=null,t.localStorage.removeItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)))},followerQuery:function(e){if(!e||!i.isString(e))throw"Invalid user object id.";var n=new t.FriendShipQuery("_Follower");return n._friendshipTag="follower",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},followeeQuery:function(e){if(!e||!i.isString(e))throw"Invalid user object id.";var n=new t.FriendShipQuery("_Followee");return n._friendshipTag="followee",n.equalTo("user",t.Object.createWithoutData("_User",e)),n},requestPasswordReset:function(t,e){var n={email:t},r=o("requestPasswordReset",null,null,"POST",n);return r._thenRunCallbacks(e)},requestEmailVerify:function(t,e){var n={email:t},r=o("requestEmailVerify",null,null,"POST",n);return r._thenRunCallbacks(e)},requestEmailVerfiy:function(t,e){var n={email:t},r=o("requestEmailVerify",null,null,"POST",n);return r._thenRunCallbacks(e)},requestMobilePhoneVerify:function(t,e){var n={mobilePhoneNumber:t},r=o("requestMobilePhoneVerify",null,null,"POST",n);return r._thenRunCallbacks(e)},requestPasswordResetBySmsCode:function(t,e){var n={mobilePhoneNumber:t},r=o("requestPasswordResetBySmsCode",null,null,"POST",n);return r._thenRunCallbacks(e)},resetPasswordBySmsCode:function(t,e,n){var r={password:e},i=o("resetPasswordBySmsCode",null,t,"PUT",r);return i._thenRunCallbacks(n)},verifyMobilePhone:function(t,e){var n=o("verifyMobilePhone",null,t,"POST",null);return n._thenRunCallbacks(e)},requestLoginSmsCode:function(t,e){var n={mobilePhoneNumber:t},r=o("requestLoginSmsCode",null,null,"POST",n);return r._thenRunCallbacks(e)},currentAsync:function(){return t._config.disableCurrentUser?(console.warn("AV.User.currentAsync() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),t.Promise.as(null)):t.User._currentUser?t.Promise.as(t.User._currentUser):t.User._currentUserMatchesDisk?t.Promise.as(t.User._currentUser):t.localStorage.getItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY)).then(function(e){if(!e)return null;t.User._currentUserMatchesDisk=!0,t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser})},current:function(){if(t._config.disableCurrentUser)return console.warn("AV.User.current() was disabled in multi-user environment, access user from request instead https://leancloud.cn/docs/leanengine-node-sdk-upgrade-1.html"),null;if(t.User._currentUser)return t.User._currentUser;if(t.User._currentUserMatchesDisk)return t.User._currentUser;t.User._currentUserMatchesDisk=!0;var e=t.localStorage.getItem(t._getAVPath(t.User._CURRENT_USER_KEY));if(!e)return null;t.User._currentUser=t.Object._create("_User"),t.User._currentUser._isCurrentUser=!0;var n=JSON.parse(e);return t.User._currentUser.id=n._id,delete n._id,t.User._currentUser._sessionToken=n._sessionToken,delete n._sessionToken,t.User._currentUser._finishFetch(n),t.User._currentUser._synchronizeAllAuthData(),t.User._currentUser._refreshCache(),t.User._currentUser._opSetQueue=[{}],t.User._currentUser},_saveCurrentUser:function(e){var n;return n=t.User._currentUser!==e?t.User.logOut():t.Promise.as(),n.then(function(){e._isCurrentUser=!0,t.User._currentUser=e;var n=e.toJSON();return n._id=e.id,n._sessionToken=e._sessionToken,t.localStorage.setItemAsync(t._getAVPath(t.User._CURRENT_USER_KEY),JSON.stringify(n)).then(function(){t.User._currentUserMatchesDisk=!0})})},_registerAuthenticationProvider:function(e){t.User._authProviders[e.getAuthType()]=e,!t._config.disableCurrentUser&&t.User.current()&&t.User.current()._synchronizeAuthData(e.getAuthType())},_logInWith:function(e,n){var r=t.Object._create("_User");return r._linkWith(e,n)}})}},{"./error":24,"./request":36,underscore:17}],43:[function(t,e,n){(function(n){var r=t("underscore"),i=t("./request"),s=function(t){return r.isNull(t)||r.isUndefined(t)},o=function(t){var e=t._config;r.extend(e,{region:"cn",APIServerURL:e.APIServerURL||"",isNode:!1,disableCurrentUser:!1,userAgent:null,applicationProduction:null}),"undefined"!=typeof n&&n.versions&&n.versions.node&&(e.isNode=!0);var o=function(){},a=function(t,e,n){var i;return i=e&&e.hasOwnProperty("constructor")?e.constructor:function(){t.apply(this,arguments)},r.extend(i,t),o.prototype=t.prototype,i.prototype=new o,e&&r.extend(i.prototype,e),n&&r.extend(i,n),i.prototype.constructor=i,i.__super__=t.prototype,i},u=function(e,n,r){t.applicationId&&e!==t.applicationId&&n!==t.applicationKey&&r!==t.masterKey&&console.warn("LeanCloud SDK is already initialized, please do not reinitialize it."),t.applicationId=e,t.applicationKey=n,t.masterKey=r,t._useMasterKey=!1};t.init=function(){var t=function(){console.warn("MasterKey should not be used in the browser. The permissions of MasterKey can be across all the server permissions, including the setting of ACL .")};switch(arguments.length){case 1:var n=arguments.length<=0?void 0:arguments[0];if("object"!==("undefined"==typeof n?"undefined":_typeof(n)))throw new Error("AV.init(): Parameter is not correct.");!e.isNode&&n.masterKey&&t(),u(n.appId,n.appKey,n.masterKey),i.setServerUrlByRegion(n.region),e.disableCurrentUser=n.disableCurrentUser;break;case 2:case 3:console.warn("Please use AV.init() to replace AV.initialize() ."),e.isNode||3!==arguments.length||t(),u.apply(void 0,arguments),i.setServerUrlByRegion("cn")}},e.isNode&&(t.Cloud=t.Cloud||{},t.Cloud.useMasterKey=function(){t._useMasterKey=!0}),t.initialize=t.init,t.setProduction=function(t){s(t)?e.applicationProduction=null:e.applicationProduction=t?1:0},t.useAVCloudCN=function(){i.setServerUrlByRegion("cn"),console.warn("Do not use AV.useAVCloudCN. Please use AV.init(), you can set the region of server.")},t.useAVCloudUS=function(){i.setServerUrlByRegion("us"),console.warn("Do not use AV.useAVCloudUS. Please use AV.init(), you can set the region of server.")},t._getAVPath=function(e){if(!t.applicationId)throw"You need to call AV.initialize before using AV.";if(e||(e=""),!r.isString(e))throw"Tried to get a localStorage path that wasn't a String.";return"/"===e[0]&&(e=e.substring(1)),"AV/"+t.applicationId+"/"+e},t._installationId=null,t._getInstallationId=function(){if(t._installationId)return t.Promise.as(t._installationId);var e=t._getAVPath("installationId");return t.localStorage.getItemAsync(e).then(function(n){if(t._installationId=n,t._installationId)return n;var r=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t._installationId=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),t.localStorage.setItemAsync(e,t._installationId)})},t._parseDate=function(t){var e=new RegExp("^([0-9]{1,4})-([0-9]{1,2})-([0-9]{1,2})T([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2})(.([0-9]+))?Z$"),n=e.exec(t);if(!n)return null;var r=n[1]||0,i=(n[2]||1)-1,s=n[3]||0,o=n[4]||0,a=n[5]||0,u=n[6]||0,c=n[8]||0;return new Date(Date.UTC(r,i,s,o,a,u,c))},t._ajax=function(){console.warn("AV._ajax is deprecated, and will be removed in next release."),i.ajax.apply(i,arguments)},t._request=function(){console.warn("AV._request is deprecated, and will be removed in next release."),i.request.apply(i,arguments)},t._extend=function(t,e){var n=a(this,t,e);return n.extend=this.extend,n},t._getValue=function(t,e){return t&&t[e]?r.isFunction(t[e])?t[e]():t[e]:null},t._encode=function(e,n,i){if(e instanceof t.Object){if(i)throw"AV.Objects not allowed here";if(!n||r.include(n,e)||!e._hasData)return e._toPointer();if(!e.dirty())return n=n.concat(e),t._encode(e._toFullJSON(n),n,i);throw"Tried to save an object with a pointer to a new, unsaved object."}if(e instanceof t.ACL)return e.toJSON();if(r.isDate(e))return{__type:"Date",iso:e.toJSON()};if(e instanceof t.GeoPoint)return e.toJSON();if(r.isArray(e))return r.map(e,function(e){return t._encode(e,n,i)});if(r.isRegExp(e))return e.source;if(e instanceof t.Relation)return e.toJSON();if(e instanceof t.Op)return e.toJSON();if(e instanceof t.File){if(!e.url()&&!e.id)throw"Tried to save an object containing an unsaved file.";return{__type:"File",id:e.id,name:e.name(),url:e.url()}}if(r.isObject(e)){var s={};return t._objectEach(e,function(e,r){s[r]=t._encode(e,n,i)}),s}return e},t._decode=function(e,n){if(!r.isObject(n))return n;if(r.isArray(n))return t._arrayEach(n,function(e,r){n[r]=t._decode(r,e)}),n;if(n instanceof t.Object)return n;if(n instanceof t.File)return n;if(n instanceof t.Op)return n;if(n.__op)return t.Op._decode(n);var i;if("Pointer"===n.__type){i=n.className;var s=t.Object._create(i);return Object.keys(n).length>3?(delete n.__type,delete n.className,s._finishFetch(n,!0)):s._finishFetch({objectId:n.objectId},!1),s}if("Object"===n.__type){i=n.className,delete n.__type,delete n.className;var o=t.Object._create(i);return o._finishFetch(n,!0),o}if("Date"===n.__type)return t._parseDate(n.iso);if("GeoPoint"===n.__type)return new t.GeoPoint({latitude:n.latitude,longitude:n.longitude});if("ACL"===e)return n instanceof t.ACL?n:new t.ACL(n);if("Relation"===n.__type){var a=new t.Relation(null,e);return a.targetClassName=n.className,a}if("File"===n.__type){var u=new t.File(n.name);return u.attributes.metaData=n.metaData||{},u.attributes.url=n.url,u.id=n.objectId,u}return t._objectEach(n,function(e,r){n[r]=t._decode(r,e)}),n},t._encodeObjectOrArray=function(e){var n=function(e){return e&&e._toFullJSON&&(e=e._toFullJSON([])),r.mapObject(e,function(e){return t._encode(e,[])})};return r.isArray(e)?e.map(function(t){return n(t)}):n(e)},t._arrayEach=r.each,t._traverse=function(e,n,i){if(e instanceof t.Object){if(i=i||[],r.indexOf(i,e)>=0)return;return i.push(e),t._traverse(e.attributes,n,i),n(e)}return e instanceof t.Relation||e instanceof t.File?n(e):r.isArray(e)?(r.each(e,function(r,s){var o=t._traverse(r,n,i);o&&(e[s]=o)}),n(e)):r.isObject(e)?(t._each(e,function(r,s){var o=t._traverse(r,n,i);o&&(e[s]=o)}),n(e)):n(e)},t._objectEach=t._each=function(t,e){r.isObject(t)?r.each(r.keys(t),function(n){e(t[n],n)}):r.each(t,e)}};e.exports={init:o,isNullOrUndefined:s}}).call(this,t("_process"))},{"./request":36,_process:2,underscore:17}],44:[function(t,e,n){e.exports="js1.0.0"},{}]},{},[19])(19)}),function(){"use strict";function t(t){var e=this;e.isNavbarCollapsed=!0,e.toggleNavbar=function(){e.isNavbarCollapsed=!e.isNavbarCollapsed},e.collapseNavbar=function(){e.isNavbarCollapsed=!0}}angular.module("bolgApp").controller("NavbarController",t),t.$inject=["$state"]}(),function(){"use strict";function t(){function t(t,e,n){var r=n.activeLink,i=n.href;i=i.substring(1),t.location=location,t.$watch("location.path()",function(t){i===t?e.addClass(r):e.removeClass(r)})}var e={restrict:"A",link:t};return e}angular.module("bolgApp").directive("activeLink",t)}(),function(){"use strict";function t(t){t.state("error",{parent:"app",url:"/error",data:{authorities:[],pageTitle:"Error page!"},views:{"content@":{templateUrl:"app/layouts/error/error.html"}}}).state("accessdenied",{parent:"app",url:"/accessdenied",data:{authorities:[]},views:{"content@":{templateUrl:"app/layouts/error/accessdenied.html"}}})}angular.module("bolgApp").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){t.state("home",{parent:"app",url:"/",data:{authorities:[],pageTitle:"微步"},views:{"content@":{templateUrl:"app/home/home.html",controller:"HomeController",controllerAs:"vm"}}})}angular.module("bolgApp").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";function t(t){}angular.module("bolgApp").controller("HomeController",t),t.$inject=["$scope"]}(),function(){"use strict";function t(){function t(t,e){if(isNaN(e))return t;if(0>=e)return"";if(t){var n=t.split(/\s+/);n.length>e&&(t=n.slice(0,e).join(" ")+"...")}return t}return t}angular.module("bolgApp").filter("words",t)}(),function(){"use strict";function t(){function t(t,e,n){if(isNaN(e))return t;if(0>=e)return"";if(t&&t.length>e){if(t=t.substring(0,e),n)for(;" "===t.charAt(t.length-1);)t=t.substr(0,t.length-1);else{var r=t.lastIndexOf(" ");-1!==r&&(t=t.substr(0,r))}return t+"..."}return t}return t}angular.module("bolgApp").filter("characters",t)}(),function(){"use strict";function t(){function t(t,e,n,r){e.bind("click",function(){r.sort(n.jhSortBy)})}var e={restrict:"A",scope:!1,require:"^jhSort",link:t};return e}angular.module("bolgApp").directive("jhSortBy",t)}(),function(){"use strict";function t(){var t={restrict:"A",scope:{predicate:"=jhSort",ascending:"=",callback:"&"},controller:e,controllerAs:"vm",bindToController:!0};return t}function e(t,e){function n(t){var e=t.find("span.glyphicon"),n="glyphicon-sort",r="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt",s=n+" "+i,a=r;o.ascending||(s=n+" "+r,a=i),o.resetClasses(),e.removeClass(s),e.addClass(a)}function r(){var t=e.find("span.glyphicon"),n="glyphicon-sort",r="glyphicon-sort-by-attributes",i="glyphicon-sort-by-attributes-alt";t.removeClass(r+" "+i),t.addClass(n)}function i(e){e!==o.predicate?o.ascending=!0:o.ascending=!o.ascending,o.predicate=e,t.$apply(),o.callback()}function s(t){o.resetClasses(),t&&"_score"!==t[0]&&o.applyClass(e.find("th[jh-sort-by='"+t[0]+"']"))}var o=this;o.applyClass=n,o.resetClasses=r,o.sort=i,o.triggerApply=s,t.$watchGroup(["vm.predicate","vm.ascending"],o.triggerApply),o.triggerApply()}angular.module("bolgApp").directive("jhSort",t),e.$inject=["$scope","$element"]}(),function(){"use strict";function t(){function t(t){if(0===t.length)throw new Error("input must not be of zero length");var e=t.split(","),n={};return angular.forEach(e,function(t){var e=t.split(";");if(2!==e.length)throw new Error('section could not be split on ";"');var r=e[0].replace(/<(.*)>/,"$1").trim(),i={};r.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(t,e,n,r){i[e]=r});var s=i.page;angular.isString(s)&&(s=parseInt(s));var o=e[1].replace(/rel="(.*)"/,"$1").trim();n[o]=s}),n}var e={parse:t};return e}angular.module("bolgApp").factory("ParseLinks",t)}(),function(){"use strict";function t(){function t(t){var e=t.split(",");return e.length>1?"asc"===t.split(",").slice(-1)[0]:!0}function e(t){return parseInt(t)}function n(t){var e=t.split(",");return e.length>1&&e.pop(),e.join(",")}var r={parseAscending:t,parsePage:e,parsePredicate:n};return r}angular.module("bolgApp").factory("PaginationUtil",t)}(),function(){"use strict";var t={template:'<div class="info">Showing {{(($ctrl.page - 1) * $ctrl.itemsPerPage) == 0 ? 1 : (($ctrl.page - 1) * $ctrl.itemsPerPage + 1)}} - {{($ctrl.page * $ctrl.itemsPerPage) < $ctrl.queryCount ? ($ctrl.page * $ctrl.itemsPerPage) : $ctrl.queryCount}} of {{$ctrl.queryCount}} items.</div>',bindings:{page:"<",queryCount:"<total",itemsPerPage:"<"}};angular.module("bolgApp").component("jhiItemCount",t)}(),function(){"use strict";function t(t){function e(t){return t?new Date(t):null}function n(t){if(t){var e=t.split("-");return new Date(e[0],e[1]-1,e[2])}return null}function r(e){return e?t("date")(e,"yyyy-MM-dd"):null}function i(){return"yyyy-MM-dd"}var s={convertDateTimeFromServer:e,convertLocalDateFromServer:n,convertLocalDateToServer:r,dateformat:i};return s}angular.module("bolgApp").factory("DateUtils",t),t.$inject=["$filter"]}(),function(){"use strict";function t(t){function e(t){return angular.isString(t)?t.length<30?t:t?t.substring(0,15)+"..."+t.slice(-10):"":""}function n(t){function e(t,e){return-1!==e.indexOf(t,e.length-t.length)}function n(t){return e("==",t)?2:e("=",t)?1:0}function r(t){return t.length/4*3-n(t)}function i(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")+" bytes"}return angular.isString(t)?i(r(t)):""}function r(e,n){t.open("data:"+e+";base64,"+n,"_blank","height=300,width=400")}function i(t,e){var n=new FileReader;n.readAsDataURL(t),n.onload=function(t){var n=t.target.result.substr(t.target.result.indexOf("base64,")+"base64,".length);e(n)}}var s={abbreviate:e,byteSize:n,openFile:r,toBase64:i};return s}angular.module("bolgApp").factory("DataUtils",t),t.$inject=["$window"]}(),function(){"use strict";function t(){function t(t){return null!==t&&(t=t.toLowerCase()),t.substring(0,1).toUpperCase()+t.substring(1)}return t}angular.module("bolgApp").filter("capitalize",t)}(),function(){"use strict";function t(){function t(t){for(var e,r,i,s,o,a="",u="",c="",l=0;l<t.length;)e=t.charCodeAt(l++),r=t.charCodeAt(l++),u=t.charCodeAt(l++),i=e>>2,s=(3&e)<<4|r>>4,o=(15&r)<<2|u>>6,c=63&u,isNaN(r)?o=c=64:isNaN(u)&&(c=64),a=a+n.charAt(i)+n.charAt(s)+n.charAt(o)+n.charAt(c),e=r=u="",i=s=o=c="";return a}function e(t){var e,r,i,s,o,a="",u="",c="",l=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<t.length;)i=n.indexOf(t.charAt(l++)),s=n.indexOf(t.charAt(l++)),o=n.indexOf(t.charAt(l++)),c=n.indexOf(t.charAt(l++)),e=i<<2|s>>4,r=(15&s)<<4|o>>2,u=(3&o)<<6|c,a+=String.fromCharCode(e),64!==o&&(a+=String.fromCharCode(r)),64!==c&&(a+=String.fromCharCode(u)),e=r=u="",i=s=o=c=""}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={decode:e,encode:t};return r}angular.module("bolgApp").factory("Base64",t)}(),function(){"use strict";function t(t){function e(){null===r&&(r=t.open({animation:!0,templateUrl:"app/components/login/login.html",controller:"LoginController",controllerAs:"vm"}),r.result.then(i,i))}var n={open:e},r=null,i=function(){r=null};return n}angular.module("bolgApp").factory("LoginService",t),t.$inject=["$uibModal"]}(),function(){"use strict";function t(t,e,n,r,i){function s(){c.credentials={username:null,password:null,rememberMe:!0},c.authenticationError=!1,i.dismiss("cancel")}function o(n){n.preventDefault(),r.login({username:c.username,password:c.password,rememberMe:c.rememberMe}).then(function(){if(c.authenticationError=!1,i.close(),"register"!==e.current.name&&"activate"!==e.current.name&&"finishReset"!==e.current.name&&"requestReset"!==e.current.name||e.go("home"),t.$broadcast("authenticationSuccess"),r.getPreviousState()){var n=r.getPreviousState();r.resetPreviousState(),e.go(n.name,n.params)}})["catch"](function(){c.authenticationError=!0})}function a(){i.dismiss("cancel"),e.go("register")}function u(){i.dismiss("cancel"),e.go("requestReset")}var c=this;c.authenticationError=!1,c.cancel=s,c.credentials={},c.login=o,c.password=null,c.register=a,c.rememberMe=!0,c.requestResetPassword=u,c.username=null,n(function(){angular.element("#username").focus()})}angular.module("bolgApp").controller("LoginController",t),t.$inject=["$rootScope","$state","$timeout","Auth","$uibModalInstance"]}(),function(){"use strict";function t(){function t(t,e){e.find(".form-group").each(function(){var e=angular.element(this),n=e.find("input[ng-model],textarea[ng-model],select[ng-model]");n.length>0&&n.each(function(){var n=angular.element(this);t.$watch(function(){return n.hasClass("ng-invalid")&&n.hasClass("ng-dirty")},function(t){e.toggleClass("has-error",t)})})})}var e={restrict:"A",require:"form",link:t};return e}angular.module("bolgApp").directive("showValidation",t)}(),function(){"use strict";angular.module("bolgApp").constant("paginationConstants",{itemsPerPage:20})}(),function(){"use strict";function t(){function t(t,e,n,i){i&&(i.$validators.minbytes=function(t){return i.$isEmpty(t)||r(t)>=n.minbytes})}function e(t,e){return-1!==e.indexOf(t,e.length-t.length)}function n(t){return e("==",t)?2:e("=",t)?1:0}function r(t){return t.length/4*3-n(t)}var i={restrict:"A",require:"?ngModel",link:t};return i}angular.module("bolgApp").directive("minbytes",t)}(),function(){"use strict";function t(){function t(t,e,n,i){i&&(i.$validators.maxbytes=function(t){return i.$isEmpty(t)||r(t)<=n.maxbytes})}function e(t,e){return-1!==e.indexOf(t,e.length-t.length)}function n(t){return e("==",t)?2:e("=",t)?1:0}function r(t){return t.length/4*3-n(t)}var i={restrict:"A",require:"?ngModel",link:t};return i}angular.module("bolgApp").directive("maxbytes",t)}(),function(){"use strict";function t(t,e,n){function r(t,n,r){i.alerts.push(e.add({type:"danger",msg:t,timeout:5e3,toast:e.isToast(),scoped:!0},i.alerts))}var i=this;i.alerts=[];var s=n.$on("bolgApp.httpError",function(t,e){var n;switch(t.stopPropagation(),e.status){case 0:r("Server not reachable","error.server.not.reachable");break;case 400:var i=e.headers("X-bolgApp-error"),s=e.headers("X-bolgApp-params");if(i){var o=s;r(i,i,{entityName:o})}else if(e.data&&e.data.fieldErrors)for(n=0;n<e.data.fieldErrors.length;n++){var a=e.data.fieldErrors[n],u=a.field.replace(/\[\d*\]/g,"[]"),c=u.charAt(0).toUpperCase()+u.slice(1);r("Field "+c+" cannot be empty","error."+a.message,{fieldName:c})}else e.data&&e.data.message?r(e.data.message,e.data.message,e.data):r(e.data);break;case 404:r("Not found","error.url.not.found");break;default:r(e.data&&e.data.message?e.data.message:angular.toJson(e))}});t.$on("$destroy",function(){angular.isDefined(s)&&null!==s&&(s(),i.alerts=[])})}var e={template:'<div class="alerts" ng-cloak=""><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre>{{ alert.msg }}</pre></uib-alert></div></div>',controller:t};angular.module("bolgApp").component("jhiAlertError",e),t.$inject=["$scope","AlertService","$rootScope"]}(),function(){"use strict";function t(){function t(t,e){function n(){return d}function r(){_=[]}function i(){return _}function s(t,e,n){return this.add({type:"success",msg:t,params:e,timeout:m,toast:d,position:n})}function o(t,e,n){return this.add({type:"danger",msg:t,params:e,timeout:m,toast:d,position:n})}function a(t,e,n){return this.add({type:"warning",msg:t,params:e,timeout:m,toast:d,position:n})}function u(t,e,n){return this.add({type:"info",msg:t,params:e,timeout:m,toast:d,position:n})}function c(t){var n={type:t.type,msg:e.trustAsHtml(t.msg),id:t.alertId,timeout:t.timeout,toast:t.toast,position:t.position?t.position:"top right",scoped:t.scoped,close:function(t){return h(this.id,t)}};return n.scoped||_.push(n),n}function l(e,n){e.alertId=p++;var r=this,i=this.factory(e);return e.timeout&&e.timeout>0&&t(function(){r.closeAlert(e.alertId,n)},e.timeout),i}function h(t,e){var n=e?e:_;return f(n.map(function(t){return t.id}).indexOf(t),n)}function f(t,e){return e.splice(t,1)}var d=this.toast,p=0,_=[],m=5e3;return{factory:c,isToast:n,add:l,closeAlert:h,closeAlertByIndex:f,clear:r,get:i,success:s,error:o,info:u,warning:a}}this.toast=!1,this.$get=t,this.showAsToast=function(t){this.toast=t},t.$inject=["$timeout","$sce"]}angular.module("bolgApp").provider("AlertService",t)}(),function(){"use strict";function t(t,e){var n=this;n.alerts=e.get(),t.$on("$destroy",function(){n.alerts=[]})}var e={template:'<div class="alerts" ng-cloak=""><div ng-repeat="alert in $ctrl.alerts" ng-class="[alert.position, {\'toast\': alert.toast}]"><uib-alert ng-cloak="" type="{{alert.type}}" close="alert.close($ctrl.alerts)"><pre ng-bind-html="alert.msg"></pre></uib-alert></div></div>',controller:t};angular.module("bolgApp").component("jhiAlert",e),t.$inject=["$scope","AlertService"]}(),function(){"use strict";function t(t,e){function n(t){var n=t.headers("X-bolgApp-alert");return angular.isString(n)&&e.success(n,{param:t.headers("X-bolgApp-params")}),t}var r={response:n};return r}angular.module("bolgApp").factory("notificationInterceptor",t),t.$inject=["$q","AlertService"]}(),function(){"use strict";function t(t,e){function n(n){return 401===n.status&&(""===n.data||n.data.path&&0===n.data.path.indexOf("/api/account"))||e.$emit("bolgApp.httpError",n),t.reject(n)}var r={responseError:n};return r}angular.module("bolgApp").factory("errorHandlerInterceptor",t),t.$inject=["$q","$rootScope"]}(),function(){"use strict";function t(t,e,n,r){function i(r){if(401===r.status&&angular.isDefined(r.data.path)&&-1===r.data.path.indexOf("/api/account")){var i=n.get("Auth"),a=t.toState,u=t.toStateParams;i.logout(),"accessdenied"!==a.name&&i.storePreviousState(a.name,u);var c=n.get("LoginService");c.open()}else if(403===r.status&&"GET"!==r.config.method&&""===s()){var l=n.get("$http");return l.get("/")["finally"](function(){return o(r)})}return e.reject(r)}function s(){var t=r[0];if(t)for(var e="CSRF-TOKEN=",n=t.cookie.split(";"),i=0;i<n.length;i++){for(var s=n[i];" "===s.charAt(0);)s=s.substring(1);if(-1!==s.indexOf(e))return s.substring(e.length,s.length)}return""}function o(t){if(""!==s()){var r=n.get("$http");return r(t.config)}return e.reject(t)}var a={responseError:i};return a}angular.module("bolgApp").factory("authExpiredInterceptor",t),t.$inject=["$rootScope","$q","$injector","$document"]}(),function(){"use strict";function t(t,e,n,r,i,s,o){function a(){t.VERSION=o;var e=t.$on("$stateChangeStart",function(e,n,o,a){t.toState=n,t.toStateParams=o,t.fromState=a,n.external&&(e.preventDefault(),r.open(n.url,"_self")),s.isIdentityResolved()&&i.authorize()}),n=t.$on("$stateChangeSuccess",function(t,e,n,i,s){var o="bolg";e.data.pageTitle&&(o=e.data.pageTitle),r.document.title=o});t.$on("$destroy",function(){angular.isDefined(e)&&null!==e&&e(),angular.isDefined(n)&&null!==n&&n()})}return{initialize:a}}angular.module("bolgApp").factory("stateHandler",t),t.$inject=["$rootScope","$state","$sessionStorage","$window","Auth","Principal","VERSION"]}(),function(){"use strict";function t(t,e,n,r){e.defaults.xsrfCookieName="CSRF-TOKEN",e.defaults.xsrfHeaderName="X-CSRF-TOKEN",n.setMatchlist([/.*api.*/,/.*protected.*/],!0),t.otherwise("/"),e.interceptors.push("errorHandlerInterceptor"),e.interceptors.push("authExpiredInterceptor"),e.interceptors.push("notificationInterceptor"),r.type("boolean",{name:"boolean",decode:function(t){return t===!0||"true"===t},encode:function(t){return t?1:0},equals:function(t,e){return this.is(t)&&t===e},is:function(t){return[!0,!1,0,1].indexOf(t)>=0},pattern:/bool|true|0|1/})}angular.module("bolgApp").config(t),t.$inject=["$urlRouterProvider","$httpProvider","httpRequestInterceptorCacheBusterProvider","$urlMatcherFactoryProvider"]}(),function(){"use strict";function t(t){t.state("app",{"abstract":!0,views:{"navbar@":{templateUrl:"app/layouts/navbar/navbar.html",controller:"NavbarController",controllerAs:"vm"}},resolve:{authorize:["Auth",function(t){return t.authorize()}]}})}angular.module("bolgApp").config(t),t.$inject=["$stateProvider"]}(),function(){"use strict";angular.module("bolgApp").constant("VERSION","0.0.1-SNAPSHOT").constant("DEBUG_INFO_ENABLED",!1)}(),function(){angular.module("bolgApp").run(["$templateCache",function(t){t.put("app/home/home.html",'<div ng-cloak><div class="row"><div class="col-md-4 wb-people"><!-- <span class="hipster img-responsive img-rounded"></span> --> <i class="iconfont wb-people-body">&#xe602;</i> <i class="iconfont wb-people-head">&#xe601;</i></div><div class="col-md-8"><h1>Welcome to weibu!</h1><p class="lead">This is my bolg</p><div ng-switch="vm.isDay"><div class="alert alert-success" ng-switch-when="true">day</div><div class="alert alert-success" ng-switch-when="false">night</div><div class="alert alert-success" ng-switch-when="true">You are logged in as user "{{vm.account.login}}".</div><div class="alert alert-warning" ng-switch-when="false">If you want to <a class="alert-link" href="" ng-click="vm.login()">sign in</a>, you can try the default accounts:<br>- Administrator (login="admin" and password="admin")<br>- User (login="user" and password="user").</div><div class="alert alert-warning" ng-switch-when="false">You don\'t have an account yet? <a class="alert-link" ui-sref="register">Register a new account</a></div></div></div></div></div>'),t.put("app/show/demo1.html",'<div><div class="row"><div class="col-md-12"><div ng-switch="vm.isDay"><div class="alert alert-success" ng-switch-when="true"><div class="container demo-1"><div class="content"><div id="large-header" class="large-header"><canvas id="demo-canvas"></canvas><h1 class="main-title">微步</h1></div></div></div></div><div class="alert alert-success" ng-switch-when="false">night</div></div></div></div></div>'),t.put("app/tools/fingerprint.html",'<html><head><meta charset="utf-8"><title>指纹数据</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta http-equiv="Access-Control-Allow-Origin" content="*"><style type="text/css">#content {margin: 50px;}\r\n            .bold{font-weight: bold;}</style></head><body><div id="content"></div><div id="info"></div><!-- <script src="fingerPrintJs/frms-fingerprint-origin.js"></script> --><!-- <script src="fingerPrintJs/frms-finger-origin-min.js"></script> --><script src="https://service.udcredit.com:10000/sdk/device-fingerprint/web?partnerCode=1000000000TEST&appKey=9cWbNgUqiL91raHPVmrP"></script><script type="text/JavaScript">(function() {\r\n                var _UDCREDIT_TRACEID = "";\r\n                var _UDCREDIT_DEVICEID = "";\r\n                var tmpCount = 10;//定时器 0.5秒启动一次，做多尝试10次\r\n      \r\n        \r\n                var onloadFunction = function(){\r\n                    if(document.cookie){\r\n                        fillData(document.cookie);\r\n                        var str = "UDCREDIT_TRACEID : " + _UDCREDIT_TRACEID + "</br>" +\r\n                            "UDCREDIT_DEVICEID : "+_UDCREDIT_DEVICEID\r\n          var info ="正在获取设备指纹";\r\n          if(_UDCREDIT_TRACEID!=""&&_UDCREDIT_DEVICEID!=""){\r\n            document.getElementById("content").innerHTML=str;\r\n            if(tmpCount-- >0){\r\n             setTimeout(getInfo,100);\r\n          } \r\n          }else{\r\n             document.getElementById("content").innerHTML=info;\r\n             setTimeout(onloadFunction,100);\r\n            }\r\n                       \r\n                    }else{\r\n            setTimeout(onloadFunction,100);\r\n          }\r\n                }\r\n                window.onload =onloadFunction;\r\n\r\n                var fillData = function (str){\r\n                    var _list  = (str + "").split(" ").join("").split(";");\r\n                    for(var i=0;i<_list.length;i++){\r\n                        var _listSplit=_list[i].split("=");\r\n                        if(_listSplit.length==2){\r\n                            if(_listSplit[0]=="UDCREDIT_TRACEID"){\r\n                                _UDCREDIT_TRACEID = _listSplit[1];\r\n                            }else if(_listSplit[0]=="UDCREDIT_DEVICEID"){\r\n                                _UDCREDIT_DEVICEID = _listSplit[1];\r\n                            }\r\n                        } \r\n                    }\r\n                    return false;\r\n                }\r\n                var getInfo = function (){\r\n                    var _URL = "https://service.udcredit.com:10000/api/device-fingerprint?platform=2&traceid="+_UDCREDIT_TRACEID;\r\n                    var xmlhttp = new XMLHttpRequest();   // new HttpRequest instance\r\n                  var isIE = getBrowserVersion();\r\n                    if(isIE=="IE7"||isIE=="IE8"){\r\n            xmlhttp = new ActiveXObject("microsoft.XMLHTTP");\r\n          }\r\n                    xmlhttp.onreadystatechange=state_Change;\r\n                    xmlhttp.open("GET",_URL,true);\r\n                    xmlhttp.setRequestHeader("Content-Type", "application/json;charset=UTF-8");\r\n                    xmlhttp.send(null);\r\n                    function state_Change(){                       \r\n                        if(xmlhttp.readyState==4){\r\n                            if (xmlhttp.status==200){\r\n                                if(xmlhttp.responseText){\r\n                                    var json =JSON.parse(xmlhttp.responseText);\r\n                                    document.getElementById("content").innerHTML = \r\n                                        document.getElementById("content").innerHTML+"</br>"+\r\n                                        "</br>evercookie : "+json.fp_evercookie_code+\r\n                                        "</br>canvas : "+json.fp_canvas_code+\r\n                                        "</br></br>info : "+JSON.stringify(json)\r\n                                }\r\n                                \r\n                            }else if(xmlhttp.status==401){\r\n                                \r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                var getBrowserVersion = function(){     \r\n            var userAgent = navigator.userAgent.toLowerCase();   \r\n            if(userAgent.match(/msie ([\\d.]+)/)!=null){\r\n              uaMatch = userAgent.match(/msie ([\\d.]+)/);               \r\n              return \'IE\'+parseInt(uaMatch[1]);        \r\n            }else if(userAgent.match(/(trident)\\/([\\w.]+)/)){\r\n                uaMatch = userAgent.match(/trident\\/([\\w.]+)/);\r\n                switch (uaMatch[1]){\r\n              case "4.0": return "IE8" ;break; \r\n              case "5.0": return "IE9" ;break; \r\n              case "6.0": return "IE10";break;\r\n              case "7.0": return "IE11";break;                                \r\n              default:return "undefined" ;            \r\n                        }  \r\n                  }       \r\n            return "undefined";  \r\n          }\r\n            })()</script></body></html>'),
t.put("app/components/login/login.html",'<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="vm.cancel()">&times;</button><h4 class="modal-title">Sign in</h4></div><div class="modal-body"><div class="row"><div class="col-md-4 col-md-offset-4"><h1>Sign in</h1></div><div class="col-md-8 col-md-offset-2"><div class="alert alert-danger" ng-show="vm.authenticationError"><strong>Failed to sign in!</strong> Please check your credentials and try again.</div></div><div class="col-md-6"><form class="form" role="form" ng-submit="vm.login($event)"><div class="form-group"><label for="username">Login</label><input type="text" class="form-control" id="username" placeholder="Your username" ng-model="vm.username"></div><div class="form-group"><label for="password">Password</label><input type="password" class="form-control" id="password" placeholder="Your password" ng-model="vm.password"></div><div class="form-group"><label for="rememberMe"><input type="checkbox" id="rememberMe" ng-model="vm.rememberMe" checked="checked"> <span>Remember me</span></label></div><button type="submit" class="btn btn-primary">Sign in</button></form><p></p><div class="alert alert-warning"><a class="alert-link" href="" ng-click="vm.requestResetPassword()">Did you forget your password?</a></div><div class="alert alert-warning">You don\'t have an account yet? <a class="alert-link" href="" ng-click="vm.register()">Register a new account</a></div></div><div class="col-md-6"><br><jh-social ng-provider="google"></jh-social><jh-social ng-provider="facebook"></jh-social><jh-social ng-provider="twitter"></jh-social><!-- jhipster-needle-add-social-button --></div></div></div>'),t.put("app/layouts/error/accessdenied.html",'<div ng-cloak><div class="row"><div class="col-md-4"><span class="hipster img-responsive img-rounded"></span></div><div class="col-md-8"><h1>Error Page!</h1><div class="alert alert-danger">You are not authorized to access the page.</div></div></div></div>'),t.put("app/layouts/error/error.html",'<div ng-cloak><div class="row"><div class="col-md-4"><span class="hipster img-responsive img-rounded"></span></div><div class="col-md-8"><h1>Error Page!</h1><div ng-show="errorMessage"><div class="alert alert-danger">{{errorMessage}}</div></div></div></div></div>'),t.put("app/layouts/navbar/navbar.html",'<nav class="navbar navbar-default navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle" ng-click="vm.toggleNavbar()"><span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span></button> <a class="navbar-brand wb-navbar-title wb-span-spacing" href="#/" ng-click="vm.collapseNavbar()"><!-- <img class="logo-img" src="content/images/logo-jhipster-a30deb26b4.png"/> --> <i class="iconfont">&#xe600;</i> <span class="">微步</span> <span style="display: none" class="navbar-version">v{{VERSION}}</span></a></div><div class="navbar-collapse" uib-collapse="vm.isNavbarCollapsed" ng-switch="vm.isAuthenticated()"><ul class="nav navbar-nav navbar-right"><li ui-sref-active="active"><a ui-sref="home" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-home"></span> <span class="hidden-sm">主页</span></a></li><!-- jhipster-needle-add-element-to-menu - JHipster will add new menu items here --><li ng-class="{active: vm.$state.includes(\'account\')}" uib-dropdown class="dropdown pointer"><a class="dropdown-toggle" uib-dropdown-toggle href="" id="account-menu"><span><span class="glyphicon glyphicon-wrench"></span> <span class="hidden-sm">小工具 </span><b class="caret"></b></span></a><ul class="dropdown-menu" uib-dropdown-menu><li ui-sref-active="active"><a ui-sref="baiduyun" ng-click="vm.collapseNavbar()"><span>百度云</span>&nbsp;</a></li><li ui-sref-active="active"><a ui-sref="weather" ng-click="vm.collapseNavbar()"><span class="glyphicon"></span>&nbsp; <span>天气</span></a></li><li ui-sref-active="active" ng-switch-when="true"><a ui-sref="sessions" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-cloud"></span>&nbsp; <span>Sessions</span></a></li><li ui-sref-active="active" ng-switch-when="true"><a href="" ng-click="vm.logout()" id="logout"><span class="glyphicon glyphicon-log-out"></span>&nbsp; <span>Sign out</span></a></li><li ui-sref-active="active" ng-switch-when="false"><a href="" ng-click="vm.login()" id="login"><span class="glyphicon glyphicon-log-in"></span>&nbsp; <span>Sign in</span></a></li><li ui-sref-active="active" ng-switch-when="false"><a ui-sref="register" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-plus-sign"></span>&nbsp; <span>Register</span></a></li></ul></li><li ng-class="{active: vm.$state.includes(\'admin\')}" has-authority="ROLE_ADMIN" uib-dropdown class="dropdown pointer"><a class="dropdown-toggle" uib-dropdown-toggle href="" id="admin-menu"><span><span class="glyphicon glyphicon-tower"></span> <span class="hidden-sm">Administration</span> <b class="caret"></b></span></a><ul class="dropdown-menu" uib-dropdown-menu><li ui-sref-active="active"><a ui-sref="user-management" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-user"></span>&nbsp; <span>User management</span></a></li><li ui-sref-active="active"><a ui-sref="jhi-metrics" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-dashboard"></span>&nbsp; <span>Metrics</span></a></li><li ui-sref-active="active"><a ui-sref="jhi-health" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-heart"></span>&nbsp; <span>Health</span></a></li><li ui-sref-active="active"><a ui-sref="jhi-configuration" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-list-alt"></span>&nbsp; <span>Configuration</span></a></li><li ui-sref-active="active"><a ui-sref="audits" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-bell"></span>&nbsp; <span>Audits</span></a></li><li ui-sref-active="active"><a ui-sref="logs" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-tasks"></span>&nbsp; <span>Logs</span></a></li><li ng-hide="vm.inProduction || vm.swaggerDisabled" ui-sref-active="active"><a ui-sref="docs" ng-click="vm.collapseNavbar()"><span class="glyphicon glyphicon-book"></span>&nbsp; <span>API</span></a></li><!-- jhipster-needle-add-element-to-admin-menu - JHipster will add entities to the admin menu here --></ul></li><li ng-class="{active: vm.$state.includes(\'entity\')}" uib-dropdown class="dropdown pointer"><a class="dropdown-toggle" uib-dropdown-toggle href="" id="entity-menu"><span><span class="glyphicon glyphicon-flash"></span> <span class="hidden-sm">前端速报 </span><b class="caret"></b></span></a><ul class="dropdown-menu" uib-dropdown-menu><!-- jhipster-needle-add-entity-to-menu - JHipster will add entities to the menu here --><li ui-sref-active="active"><a href="http://old.75team.com/weekly/issue1.html" target="_blank" ng-click="vm.collapseNavbar()"><span class="glyphicon"></span>&nbsp; <span>周报</span></a></li><li ui-sref-active="active"><a href="http://www.kancloud.cn/jsfront/month/82796" target="_blank" ng-click="vm.collapseNavbar()"><span class="glyphicon"></span>&nbsp; <span>月报</span></a></li></ul></li></ul></div></div></nav>'),t.put("app/tools/baiduyun/baiduyun.html",'<div><div class="row"><div class="col-md-12"><button ng-click="vm.getBaiduyun()">刷新</button><div id="info">{{vm.info}}</div></div></div></div>'),t.put("app/tools/weather/weather.html",'<div><div class="row"><div class="col-md-12"><div id="info"></div><div id="map" style="height:600px"></div></div></div></div>')}])}();
//# sourceMappingURL=app-ce0f8c05e2.js.map
